<!DOCTYPE html>
<!--
  Travel Explorer

  This single‚Äëpage site is designed to teach visitors about destinations around the world
  and includes a handful of handy tools (time zone converter, currency converter,
  measurement converter, IP lookup) plus a simple form for sharing photos and stories
  from past or upcoming trips.  The page is intentionally kept basic so that it
  loads quickly and remains usable on phones, tablets and desktops alike.

  The styles lean heavily on TailwindCSS via its CDN build.  A small amount of
  custom CSS is sprinkled in to handle the scroll‚Äëto‚Äëtop button and maintain
  smooth scrolling.  All of the interactive behaviour lives in a single
  JavaScript block near the bottom of the file.  That script declares a
  `countriesData` object which holds a handful of representative travel
  destinations and their associated information.  When the user chooses a
  destination from the dropdown, the page updates the history, attractions,
  food recommendations, safety tips, phrases and emergency numbers accordingly.

  Visitors can also use the tools section to convert time zones, currencies
  and measurements, check their public IP address or leave a comment with a
  photo about their travels.  Comments are appended to the bottom of the
  comments section and persist only for the current session (nothing is
  transmitted to any server).
-->
<html lang="en">
<head>
    <meta charset="UTF‚Äë8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Good People n Places</title>
    <!-- Include Tailwind CSS via CDN for rapid styling -->
    <script src="https://cdn.tailwindcss.com"></script>
  <!-- Supabase JS SDK -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        /* Scroll to top button styling */
        #scrollToTopBtn {
            display: none;
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 50;
            background-color: #3B82F6;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 10px 15px;
            font-size: 18px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            transition: background-color 0.3s, transform 0.3s;
        }
        #scrollToTopBtn:hover {
            background-color: #2563EB;
            transform: translateY(-2px);
        }

        /* Gradient button utility used throughout the site */
        .button-gradient {
            background-image: linear-gradient(to right, #6EE7B7, #3B82F6);
            color: #ffffff;
        }
        .button-gradient:hover {
            background-image: linear-gradient(to left, #6EE7B7, #3B82F6);
        }

        /* Map container and marker styling */
        #map-container {
            position: relative;
            /* Remove explicit size restrictions so the map container can adapt to a horizontal layout. */
        }
        /* The red marker indicating the selected country on the map */
        #map-marker {
            width: 12px;
            height: 12px;
            background-color: #ef4444; /* red-500 from Tailwind */
            border-radius: 50%;
            border: 2px solid #ffffff;
            box-shadow: 0 0 4px rgba(0, 0, 0, 0.3);
            position: absolute;
            transform: translate(-50%, -50%);
        }

        /* Use the hero image as the background for the hero section.  By defining it in CSS we avoid issues with inline style URL parsing. */
        #hero {
            background-image: url("./hero-image.png");
            background-size: cover;
            background-position: center;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">
    <!-- Hero Section with image set via CSS background -->
    <header id="hero" class="relative h-[60vh] md:h-[75vh] flex items-center justify-center text-white overflow-hidden">
        <!-- Overlay content with semi‚Äëtransparent background to improve legibility.  Limit the width on large screens so that the background banner remains visible around the edges. -->
        <div class="relative z-10 bg-black bg-opacity-40 p-8 rounded-lg text-center max-w-4xl mx-4 w-full">
            <!-- Use whitespace‚Äënowrap to force the title onto a single line.  If the viewport becomes too narrow, horizontal scrolling will occur rather than wrapping. -->
            <h1 class="whitespace-nowrap text-4xl md:text-6xl font-extrabold mb-4 drop-shadow-lg">Good People n Places</h1>
            <p class="text-lg md:text-2xl mb-8 drop-shadow">Discover cultures, learn tips and share your adventures.</p>
            <!-- Replace inline scroll behaviour with a dedicated button that triggers a random recommendation modal -->
            <button id="start-explore-btn" class="button-gradient text-white font-semibold py-3 px-8 rounded-full shadow-lg hover:scale-105 transition duration-300">Start Exploring</button>
        </div>
    </header>

    <!-- Main navigation bar: provides quick links to key sections.  It is sticky so it remains visible at the top when scrolling.  Each tab is styled like a slanted folder with the same gradient as the Start Exploring button and reacts on hover. -->
    <nav id="main-nav" class="bg-white sticky top-0 z-40">
        <!-- Spread tabs evenly across the full width.  Each wrapper uses flex-1 to occupy equal space. -->
        <div class="w-full flex justify-between px-4 md:px-6 py-3 text-sm md:text-base">
            <!-- Home tab -->
            <div class="relative -skew-x-12 flex-1 transform transition-transform duration-300 hover:-translate-y-1 hover:shadow-2xl">
                <a href="#hero" class="button-gradient skew-x-12 block w-full px-4 py-2 text-white font-medium text-center shadow-md border border-gray-200 rounded-md">Home</a>
            </div>
            <!-- Destinations tab -->
            <div class="relative -skew-x-12 flex-1 transform transition-transform duration-300 hover:-translate-y-1 hover:shadow-2xl">
                <a href="#destination-section" class="button-gradient skew-x-12 block w-full px-4 py-2 text-white font-medium text-center shadow-md border border-gray-200 rounded-md">Destinations</a>
            </div>
            <!-- Travel Tools tab -->
            <div class="relative -skew-x-12 flex-1 transform transition-transform duration-300 hover:-translate-y-1 hover:shadow-2xl">
                <a href="#tools-section" class="button-gradient skew-x-12 block w-full px-4 py-2 text-white font-medium text-center shadow-md border border-gray-200 rounded-md">Travel Tools</a>
            </div>
            <!-- Learn More tab -->
            <div class="relative -skew-x-12 flex-1 transform transition-transform duration-300 hover:-translate-y-1 hover:shadow-2xl">
                <a href="#learn-more-section" class="button-gradient skew-x-12 block w-full px-4 py-2 text-white font-medium text-center shadow-md border border-gray-200 rounded-md">Learn More</a>
            </div>
            <!-- Join tab -->
            <div class="relative -skew-x-12 flex-1 transform transition-transform duration-300 hover:-translate-y-1 hover:shadow-2xl">
                <a href="#comments-section" class="button-gradient skew-x-12 block w-full px-4 py-2 text-white font-medium text-center shadow-md border border-gray-200 rounded-md">Join</a>
            </div>
        </div>

    <!-- Deep Research Overlay -->
    <!-- This overlay displays the detailed travel guide in a read‚Äëonly iframe.  Hidden by default and shown when the Deep Research button is clicked. -->
    <div id="deep-research-overlay" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-60 z-50 hidden">
        <div class="bg-white p-4 md:p-6 rounded-lg shadow-lg w-11/12 md:w-3/4 lg:w-1/2 h-4/5 overflow-y-auto relative">
            <!-- Close button for the deep research overlay -->
            <button id="close-deep-research-btn" class="absolute top-2 right-3 text-gray-600 hover:text-gray-900 text-xl">&#10005;</button>
            <!-- Iframe to display the travel guide.  The src is set via JavaScript when the overlay is opened. -->
            <iframe id="deep-research-iframe" src="" class="w-full h-full" frameborder="0"></iframe>
        </div>
    </div>
    </nav>

    <!-- Destination Selection and Info -->
    <!-- Destination Selection and Info Section: apply a soft blue‚Äëgreen gradient background between the hero and tools sections -->
    <section id="destination-section" class="py-16 px-4 md:px-6 bg-gradient-to-b from-blue-50 to-green-50">
        <div class="container mx-auto max-w-6xl">
            <!-- Introductory banner to welcome users and summarise the mission of the site.  It appears above the featured destination section and provides a friendly, encouraging message. -->
            <div id="intro-banner" class="bg-white p-6 md:p-8 rounded-lg shadow-xl mb-8 text-center border border-gray-200 transform transition-transform duration-300 hover:-translate-y-1 hover:shadow-2xl">
                <h3 class="text-2xl md:text-3xl font-bold mb-2 text-gray-800">Explore More, Spend Less ‚úàÔ∏è</h3>
                <p class="text-gray-700 leading-relaxed">Worried about budget? Language barriers? Staying connected? Our mission is to equip you with the knowledge and tools to confidently explore new cultures, savor local flavors, and create unforgettable memories, even on a tight budget. We break down the complexities so you can focus on the adventure.</p>
                <!-- Deep Research button: opens a modal with an in‚Äëdepth travel guide.  Styled consistently with other buttons and hidden until clicked. -->
                <button id="deep-research-btn" class="button-gradient mt-4 px-4 py-2 rounded-md text-white font-medium shadow-md border border-gray-200 transform transition-transform duration-300 hover:-translate-y-1 hover:shadow-2xl">Deep Research</button>
            </div>
            <!-- Change the heading to prompt users to choose their destination.  The selected country name will be appended via JavaScript. -->
            <h2 id="featured-title" class="text-3xl md:text-4xl font-bold mb-8 text-center text-gray-900">Choose Your Destination</h2>
            <div class="mb-10 text-center">
                <label for="country-select" class="block text-lg font-semibold mb-2">Country:</label>
                <!-- Reduce the width of the dropdown by roughly 30% horizontally while keeping it centred.  Custom widths are used to closely approximate 70% of the previous sizes. -->
                <select id="country-select" class="p-3 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 w-[53%] md:w-[17%] lg:w-[14%] mx-auto"></select>
            </div>
            <div id="country-info" class="space-y-12">
                <!-- History box will display the country flag and history information. On medium+ screens it floats right. -->
                <!-- Wrapper that holds a coloured attractions box on the left and the history card on the right.  On medium screens and above the two panels share equal width to create a balanced, symmetric layout. -->
                <div id="history-attractions-wrapper" class="md:flex md:space-x-4">
                    <!-- Separate coloured box to display the top three attractions; its background colour is derived from the country flag.  It expands to half of the available width on medium screens and larger. -->
                    <div id="attraction-box" class="relative w-full md:flex-1 rounded-xl p-6 md:p-8 mb-4 md:mb-0 shadow-xl border border-gray-300 overflow-hidden transform transition-transform duration-300 hover:-translate-y-1 hover:shadow-2xl">
                        <!-- Subtle watermark label for attractions.  Pointer events disabled so it does not capture clicks. -->
                        <div class="absolute top-3 inset-x-0 text-center text-xs md:text-sm uppercase font-semibold text-white opacity-40 pointer-events-none">Top&nbsp;3&nbsp;Attractions</div>
                        <!-- Container for the top attractions text; font sizing and spacing defined here -->
                        <div id="attraction-content" class="w-full h-full flex flex-col items-center justify-center text-lg md:text-2xl lg:text-3xl font-semibold leading-relaxed text-white"></div>
                    </div>
                    <!-- History card displaying the selected country‚Äôs history.  It also expands to half of the available width on medium screens and larger. -->
<div id="history-box" class="w-full md:flex-1 rounded-xl p-6 md:p-8 shadow-xl border border-gray-300 overflow-hidden transform transition-transform duration-300 hover:-translate-y-1 hover:shadow-2xl text-center text-gray-800 bg-white">
                        <h3 class="text-2xl md:text-3xl lg:text-4xl font-semibold mb-4">History of <span id="country-name"></span></h3>
                        <p id="history-text" class="leading-relaxed text-base md:text-lg lg:text-xl"></p>
                    </div>
                </div>
                <!-- Geography & Climate card: displays a world map with a marker for the selected country and a short description of its location and climate.  This section is arranged horizontally on medium screens and larger. -->
<div id="map-box" class="p-6 md:p-8 rounded-xl shadow-xl border border-gray-300 overflow-hidden bg-white transform transition-transform duration-300 hover:-translate-y-1 hover:shadow-2xl">
                    <!-- Center the Geography & Climate title within the section -->
                    <h3 class="text-2xl font-semibold mb-4 text-blue-600 text-center">Geography &amp; Climate</h3>
                    <div class="flex flex-col md:flex-row md:items-center md:space-x-6">
                        <!-- Place the description box first so that it sits to the left of the map on larger screens.  On small screens it will still stack above the map. -->
                        <div class="mt-4 md:mt-0 md:w-1/2 text-gray-700 order-2 md:order-1">
                            <!-- Wrap the location and climate details in a lightly shaded box with rounded ends.
                                 The container will be populated via JavaScript.  The shading enhances
                                 readability and the rounded corners provide a softer appearance. -->
                            <div id="location-description" class="bg-gray-100 rounded-2xl p-4 md:p-6 text-gray-700"></div>
                        </div>
                        <!-- Map container now appears on the right side on larger screens. -->
                        <div id="map-container" class="relative w-full md:w-1/2 h-48 md:h-60 bg-blue-50 rounded-lg overflow-hidden order-1 md:order-2">
                            <!-- Replace the static map and marker with an interactive OpenStreetMap embed.  The iframe will be updated via JavaScript when a country is selected. -->
                            <iframe id="osm-map" class="absolute inset-0 w-full h-full" frameborder="0" scrolling="no" src="" style="border:0;"></iframe>
                        </div>
                    </div>
                </div>
                <div id="foods-box">
                    <h3 class="text-2xl font-semibold mb-2 text-blue-600">Local Foods &amp; Affordability</h3>
                    <p id="foods-intro" class="text-gray-700 mb-4"></p>
                    <div id="foods-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"></div>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4">
                        <div id="currency-card" class="p-4 bg-white rounded-lg shadow-xl border border-gray-200 transform transition-transform duration-300 hover:-translate-y-1 hover:shadow-2xl">
                            <h4 class="font-semibold mb-2">Local Currency</h4>
                            <p id="currency-info" class="text-gray-700 text-sm"></p>
                        </div>
                        <div id="hotel-box" class="p-4 bg-white rounded-lg shadow-xl border border-gray-200 transform transition-transform duration-300 hover:-translate-y-1 hover:shadow-2xl">
                            <h4 class="font-semibold mb-2">Hotel Affordability</h4>
                            <p id="hotel-affordability" class="text-gray-700 text-sm"></p>
                        </div>
                        <div id="cost-index-box" class="p-4 bg-white rounded-lg shadow-xl border border-gray-200 transform transition-transform duration-300 hover:-translate-y-1 hover:shadow-2xl">
                            <h4 class="font-semibold mb-2">Overall Affordability</h4>
                            <div id="cost-bar" class="w-full bg-gray-200 h-4 rounded-full overflow-hidden mb-2">
                                <div id="cost-bar-inner" class="h-full bg-green-500" style="width: 50%;"></div>
                            </div>
                            <p id="cost-text" class="text-sm text-gray-700"></p>
                        </div>
                    </div>
                </div>
                <!-- Learn More section: displays safety tips, useful phrases and emergency numbers in cards -->
                <div id="learn-more-section" class="mt-12">
                <!-- Increase font size and change colour to black so this heading is one step smaller than the tools heading -->
                <h3 class="text-2xl md:text-3xl font-semibold mb-4 text-gray-900 text-center">Learn More üìö</h3>
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                        <!-- What the Locals Say comes first -->
                        <div class="p-4 bg-white rounded-lg shadow-xl border border-gray-200 transform transition-transform duration-300 hover:-translate-y-1 hover:shadow-2xl">
                            <h4 class="font-semibold mb-2">What the Locals Say</h4>
                            <ul id="locals-list" class="list-disc list-inside space-y-1 text-gray-700"></ul>
                        </div>
                        <!-- Safety Tips & Etiquette comes second -->
                        <div class="p-4 bg-white rounded-lg shadow-xl border border-gray-200 transform transition-transform duration-300 hover:-translate-y-1 hover:shadow-2xl">
                            <h4 class="font-semibold mb-2">Safety Tips &amp; Etiquette</h4>
                            <ul id="safety-list" class="list-disc list-inside space-y-1 text-gray-700"></ul>
                        </div>
                        <!-- Emergency numbers remain third -->
                        <div class="p-4 bg-white rounded-lg shadow-xl border border-gray-200 transform transition-transform duration-300 hover:-translate-y-1 hover:shadow-2xl">
                            <h4 class="font-semibold mb-2">Emergency Numbers</h4>
                            <ul id="emergency-list" class="list-disc list-inside space-y-1 text-gray-700"></ul>
                        </div>
                        <!-- Essential phrases card remains fourth -->
                        <div class="p-4 bg-white rounded-lg shadow-xl border border-gray-200 transform transition-transform duration-300 hover:-translate-y-1 hover:shadow-2xl">
                            <h4 class="font-semibold mb-2">Essential Phrases</h4>
                            <!-- Category selector for phrases; allows users to choose which type of phrases to display -->
                            <select id="essential-phrase-category-select" class="mb-2 p-2 border border-gray-300 rounded-md text-sm">
                                <option value="greetings">Greetings</option>
                                <option value="food">Food Ordering</option>
                                <option value="directions">Directions</option>
                            </select>
                            <ul id="essential-phrases-list" class="list-disc list-inside space-y-1 text-gray-700"></ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Tools Section -->
    <section id="tools-section" class="py-16 px-4 md:px-6 bg-gray-100">
        <div class="container mx-auto max-w-6xl">
            <!-- Updated title includes a measuring tape emoji to reinforce the tools theme -->
            <h2 class="text-3xl md:text-4xl font-bold mb-8 text-center text-gray-900">Handy Travel Tools üìè</h2>
            <!-- Tools are organised into a two‚Äëcolumn grid on medium screens and above.  The left column stacks the conversion tools vertically.  The right column contains other utilities aligned with their counterparts. -->
            <div class="md:grid md:grid-cols-2 md:gap-4">
                <!-- Left column: conversion tools stacked vertically -->
                <div class="space-y-6">
                    <!-- Time Zone Converter -->
                    <div class="bg-white p-6 md:p-8 rounded-lg shadow-xl border border-gray-200 transform transition-transform duration-300 hover:-translate-y-1 hover:shadow-2xl">
                        <h3 class="text-2xl font-semibold mb-4 text-blue-600">Time Zone Converter</h3>
                        <!-- Display the user‚Äôs local time and the selected destination‚Äôs time.  No dropdown is required. -->
                        <p id="local-time-display" class="text-lg font-medium text-gray-800 mb-2"></p>
                        <p id="destination-time-display" class="text-lg font-medium text-blue-600"></p>
                    </div>
                    <!-- Currency Converter -->
                    <div class="bg-white p-6 md:p-8 rounded-lg shadow-xl border border-gray-200 transform transition-transform duration-300 hover:-translate-y-1 hover:shadow-2xl">
                        <h3 class="text-2xl font-semibold mb-4 text-blue-600">Currency Converter</h3>
                        <p id="currency-note" class="text-sm text-gray-500 mb-4">Loading exchange rates‚Ä¶</p>
                        <div class="flex flex-col md:flex-row md:flex-nowrap md:items-center md:space-x-2 space-y-4 md:space-y-2">
                            <input type="number" id="currency-amount" class="p-3 border border-gray-300 rounded-md flex-grow" placeholder="Enter amount" min="0" step="0.01">
                            <select id="from-currency" class="p-3 border border-gray-300 rounded-md"></select>
                            <span class="text-gray-600 font-semibold">to</span>
                            <select id="to-currency" class="p-3 border border-gray-300 rounded-md"></select>
                        </div>
                        <!-- Move the convert button below the input row for a cleaner layout -->
                        <button id="convert-currency-btn" class="button-gradient text-white py-2 px-6 rounded-md shadow-md hover:scale-105 transition duration-300 mt-4">Convert</button>
                        <p id="currency-result" class="mt-4 text-lg font-medium text-gray-800"></p>
                    </div>
                    <!-- Measurement Converter -->
                    <div class="bg-white p-6 md:p-8 rounded-lg shadow-xl border border-gray-200 transform transition-transform duration-300 hover:-translate-y-1 hover:shadow-2xl">
                        <h3 class="text-2xl font-semibold mb-4 text-blue-600">Measurement Converter</h3>
                        <div class="flex flex-col md:flex-row md:flex-nowrap md:items-center md:space-x-2 space-y-4 md:space-y-2">
                            <input type="number" id="measurement-input" class="p-3 border border-gray-300 rounded-md flex-grow" style="width: 90%;" placeholder="Enter value" step="any">
                            <select id="from-unit" class="p-3 border border-gray-300 rounded-md">
                                <option value="km">Kilometers</option>
                                <option value="miles">Miles</option>
                                <option value="celsius">Celsius</option>
                                <option value="fahrenheit">Fahrenheit</option>
                                <option value="kg">Kilograms</option>
                                <option value="lbs">Pounds</option>
                            </select>
                            <span class="text-gray-600 font-semibold">to</span>
                            <select id="to-unit" class="p-3 border border-gray-300 rounded-md">
                                <option value="miles">Miles</option>
                                <option value="km">Kilometers</option>
                                <option value="fahrenheit">Fahrenheit</option>
                                <option value="celsius">Celsius</option>
                                <option value="lbs">Pounds</option>
                                <option value="kg">Kilograms</option>
                            </select>
                        </div>
                        <!-- Convert button placed on its own line for consistency -->
                        <button id="convert-measurement-btn" class="button-gradient text-white py-2 px-6 rounded-md shadow-md hover:scale-105 transition duration-300 mt-4">Convert</button>
                        <p id="measurement-result" class="mt-4 text-lg font-medium text-gray-800"></p>
                    </div>
                </div>
                <!-- Right column: other utilities stacked vertically -->
                <div class="space-y-6 mt-10 md:mt-0">
                    <!-- Local Holiday Calendar Tool -->
                    <div class="bg-white p-6 md:p-8 rounded-lg shadow-xl border border-gray-200 transform transition-transform duration-300 hover:-translate-y-1 hover:shadow-2xl text-center">
                        <h3 class="text-2xl font-semibold mb-4 text-blue-600">Local Holiday Calendar</h3>
                        <!-- The icon has been replaced with a button. Clicking this button opens the calendar overlay. -->
                        <button id="calendar-thumbnail" class="button-gradient text-white py-2 px-6 rounded-md shadow-md hover:scale-105 transition duration-300">Open Calendar</button>
                    </div>
                    <!-- Packing List Reminder Tool -->
                    <div class="bg-white p-6 md:p-8 rounded-lg shadow-xl border border-gray-200 transform transition-transform duration-300 hover:-translate-y-1 hover:shadow-2xl">
                        <h3 class="text-2xl font-semibold mb-4 text-blue-600">Packing List Reminder</h3>
                        <p class="text-gray-700 mb-2">Before you jet off, don‚Äôt forget these essentials:</p>
                        <ul class="list-disc list-inside space-y-1 text-gray-700 mb-4">
                            <li>Passport &amp; travel documents</li>
                            <li>Travel insurance &amp; medication</li>
                            <li>Chargers &amp; adapters</li>
                            <li>Weather‚Äëappropriate clothing</li>
                            <li>Reusable water bottle &amp; snacks</li>
                        </ul>
                        <!-- Button to open an editable packing list.  Users can customise the list and download it. -->
                        <button id="open-packing-list-btn" class="button-gradient text-white py-2 px-6 rounded-md shadow-md hover:scale-105 transition duration-300">Generate Packing List</button>
                    </div>
                    <!-- IP Address Checker Tool -->
                    <div class="bg-white p-6 md:p-8 rounded-lg shadow-xl border border-gray-200 transform transition-transform duration-300 hover:-translate-y-1 hover:shadow-2xl text-center">
                        <h3 class="text-2xl font-semibold mb-4 text-blue-600">Check My IP Address</h3>
                        <button id="get-ip-btn" class="button-gradient text-white py-2 px-6 rounded-md shadow-md hover:scale-105 transition duration-300 mb-4">Get My IP</button>
                        <p id="ip-address-display" class="text-lg font-medium text-gray-800">Your IP address will appear here.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Holiday Calendar Overlay -->
    <!-- Recommendation Modal Overlay: triggered by the Start Exploring button.  Presents a random country recommendation and Yes/No options. -->
    <div id="recommendation-modal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-60 z-50 hidden">
        <div class="bg-white p-6 md:p-8 rounded-lg shadow-lg max-w-sm mx-4 text-center">
            <p id="recommendation-text" class="mb-4 text-lg font-medium text-gray-800"></p>
            <div class="flex justify-center space-x-4">
                <button id="recommend-yes" class="button-gradient text-white px-4 py-2 rounded-md shadow-md hover:scale-105 transition duration-300">Yes</button>
                <button id="recommend-no" class="button-gradient text-white px-4 py-2 rounded-md shadow-md hover:scale-105 transition duration-300">No</button>
            </div>
        </div>
    </div>
    <!-- This overlay displays a full‚Äësize interactive calendar when the user clicks the static calendar image.  It is hidden by default and shown via JavaScript. -->
    <div id="calendar-overlay" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-60 z-50 hidden">
        <div id="calendar-modal" class="bg-white p-6 md:p-8 rounded-lg shadow-lg w-11/12 md:w-3/4 lg:w-1/2 overflow-y-auto max-h-[90vh]">
            <div class="flex items-center justify-between mb-4">
                <button id="prev-month-btn-overlay" class="button-gradient text-white px-3 py-1 rounded-md shadow-md hover:scale-105 transition duration-300">&lt;</button>
                <div id="overlay-month-year" class="font-semibold text-lg text-gray-800"></div>
                <button id="next-month-btn-overlay" class="button-gradient text-white px-3 py-1 rounded-md shadow-md hover:scale-105 transition duration-300">&gt;</button>
            </div>
            <!-- Calendar grid will be injected here dynamically -->
            <div id="interactive-calendar" class="w-full"></div>
            <div class="text-right mt-4">
                <button id="close-calendar-btn" class="text-blue-600 font-semibold hover:underline">Close</button>
            </div>
        </div>
    </div>

    <!-- Packing List Editor Overlay -->
    <!-- This overlay allows users to view, edit and download their packing list.  It is hidden by default and shown when the user
         clicks the "Generate Packing List" button in the Packing List Reminder tool. -->
    <div id="packing-list-overlay" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-60 z-50 hidden">
        <div class="bg-white p-6 md:p-8 rounded-lg shadow-lg w-11/12 md:w-3/4 lg:w-1/2 max-h-[90vh] overflow-y-auto">
            <h3 class="text-xl font-semibold mb-4 text-blue-600">Customise Your Packing List</h3>
            <p class="text-gray-700 mb-2">Edit the items below as needed.  When you're ready, click the download button to save your list.</p>
            <!-- Editable packing list with headings bold and underlined.  Each list item has a checkbox. -->
            <div id="packing-list-editable" class="w-full h-64 p-3 border border-gray-300 rounded-md mb-4 overflow-y-auto" contenteditable="true">
                <h5 class="font-semibold underline">Documents &amp; Money</h5>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Passport</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Visa (if required)</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Copy of passport/visa (physical and digital)</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Travel insurance details</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Flight tickets/e‚Äëtickets</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Accommodation reservations</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Copies of important prescriptions</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">International driving permit (if applicable)</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Credit/debit cards</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Local currency</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Emergency contact list</label>
                <h5 class="font-semibold underline mt-4">Clothing</h5>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Underwear</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Socks</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">T‚Äëshirts/tops</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Pants/shorts</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Sweater/jacket (layers are key!)</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Rain jacket/umbrella</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Swimsuit (if applicable)</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Comfortable walking shoes</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Dressier outfit (for evenings out)</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Sleepwear</label>
                <h5 class="font-semibold underline mt-4">Hygiene &amp; Health</h5>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Toothbrush and toothpaste</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Shampoo and conditioner</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Soap/body wash</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Deodorant</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Sunscreen</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Insect repellent</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Hand sanitizer</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Basic first‚Äëaid kit (band‚Äëaids, antiseptic wipes, pain relievers)</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Any personal medications</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Lip balm</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Moisturizer</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Hairbrush/comb</label>
                <h5 class="font-semibold underline mt-4">Other Essentials</h5>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Phone and charger</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Portable power bank</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Universal travel adapter</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Headphones</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Reusable water bottle</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Small backpack/day bag</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Sunglasses</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Travel pillow</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Books/e‚Äëreader</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Snacks</label>
                <label class="flex items-start"><input type="checkbox" class="mr-2 mt-1">Eye mask and earplugs</label>
            </div>
            <div class="flex justify-between items-center">
                <!-- Explicitly define type="button" so these buttons do not trigger unintended form submissions -->
                <button id="download-packing-list-btn" type="button" class="button-gradient text-white py-2 px-6 rounded-md shadow-md hover:scale-105 transition duration-300">Download Packing List</button>
                <button id="close-packing-list-btn" type="button" class="text-blue-600 font-semibold hover:underline" onclick="document.getElementById('packing-list-overlay').classList.add('hidden')">Close</button>
            </div>
        </div>
    </div>

    <!-- Comments Section -->
    <!-- Comments Section: share your travel stories.  This section has a soft blue background that differentiates it from the gradient area above. -->
    <section id="comments-section" class="py-16 px-4 md:px-6 bg-blue-50">
        <div class="container mx-auto max-w-6xl">
            <!-- Added handshake emoji to foster a sense of connection and sharing -->
            <h2 class="text-3xl md:text-4xl font-bold mb-8 text-center text-gray-900">Share Your Trip ü§ù</h2>

<div class="flex justify-center mt-4">
  <button id="join-btn" class="button-gradient text-white py-2 px-6 rounded-md shadow-md hover:scale-105 transition duration-300">
    Join
  </button>
</div>
<div id="profile-card" class="mt-4 flex flex-col items-center hidden">
  <img id="profile-photo" class="w-20 h-20 rounded-full object-cover border border-gray-300 shadow-sm" alt="Profile picture">
  <div class="text-center mt-2 text-sm text-gray-800">
    <div id="profile-username" class="font-semibold"></div>
    <div id="profile-from" class="text-gray-600"></div>
    <div id="profile-greeting" class="italic text-gray-700"></div>
  </div>
  <button id="logout-btn" class="mt-2 text-blue-600 hover:underline text-sm">Log out</button>
</div>

            <p class="text-lg md:text-xl text-gray-700 mb-8 text-center">Upload a photo and tell us about your past or planned travels!</p>
            <div class="bg-white p-6 md:p-8 rounded-lg shadow-xl border border-gray-200 transform transition-transform duration-300 hover:-translate-y-1 hover:shadow-2xl mb-10">
                <form id="comment-form" class="space-y-4">
                    <div class="flex flex-col md:flex-row md:space-x-4 space-y-4 md:space-y-0">
                        <div class="flex-1">
                            <label for="comment-name" class="block text-sm font-semibold mb-1">Your Name (optional)</label>
                            <input type="text" id="comment-name" class="w-full p-3 border border-gray-300 rounded-md" placeholder="Enter your name">
                        </div>
                        <div class="flex-1">
                            <label for="comment-country" class="block text-sm font-semibold mb-1">Country</label>
                            <select id="comment-country" class="w-full p-3 border border-gray-300 rounded-md">
                                <!-- Populated via JS -->
                            </select>
                        </div>
                    </div>
                    <div>
                        <label for="comment-photo" class="block text-sm font-semibold mb-1">Photo</label>
                        <input type="file" id="comment-photo" accept="image/*" class="w-full p-2 border border-gray-300 rounded-md">
                    </div>
                    <div>
                        <label for="comment-text" class="block text-sm font-semibold mb-1">Comment and Contact Information</label>
                        <textarea id="comment-text" rows="4" class="w-full p-3 border border-gray-300 rounded-md" placeholder="Share your experience or plans..."></textarea>
                        <!-- Social media contact icons: use SVG logos from Simple Icons via jsDelivr CDN.  Each icon is wrapped in a link for future use.  -->
                        <div class="flex space-x-4 items-center mt-2">
                            <a href="#" title="Facebook" aria-label="Facebook">
                                <img src="https://cdn.jsdelivr.net/npm/simple-icons@v7/icons/facebook.svg" alt="Facebook logo" class="w-6 h-6">
                            </a>
                            <a href="#" title="Instagram" aria-label="Instagram">
                                <img src="https://cdn.jsdelivr.net/npm/simple-icons@v7/icons/instagram.svg" alt="Instagram logo" class="w-6 h-6">
                            </a>
                            <a href="#" title="TikTok" aria-label="TikTok">
                                <img src="https://cdn.jsdelivr.net/npm/simple-icons@v7/icons/tiktok.svg" alt="TikTok logo" class="w-6 h-6">
                            </a>
                            <a href="#" title="X" aria-label="X (Twitter)">
                                <img src="https://cdn.jsdelivr.net/npm/simple-icons@v7/icons/twitter.svg" alt="X logo" class="w-6 h-6">
                            </a>
                        </div>
                    </div>
                    <div class="text-right">
                        <button type="submit" class="button-gradient text-white py-2 px-6 rounded-md shadow-md hover:scale-105 transition duration-300">Add Comment</button>
                    </div>
                </form>
            </div>
            <div id="comments-display" class="space-y-6">
                <!-- User comments will be appended here -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8 text-center">
        <div class="container mx-auto px-4">
            <p>&copy; 2025 Travel Explorer. All rights reserved.</p>
            <p class="text-sm mt-2 opacity-80">Empowering your travel dreams, one adventure at a time.</p>
        </div>
    </footer>

    <!-- Scroll to Top Button -->
    <button id="scrollToTopBtn" title="Go to top">‚¨ÜÔ∏è</button>

    <!-- JavaScript for dynamic behaviour -->
    <script>
      const SUPABASE_URL = 'https://YOUR_PROJECT.supabase.co';
const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRtY3hidGRqamd3Zm9xZGZqdXBuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY0OTcyMzEsImV4cCI6MjA3MjA3MzIzMX0.h_qa51FcNT6P62AQoJjjoef7Qv2QD3h3LYBJWua0-Po';
const SUPABASE_BUCKET = 'trip-photos';
const API_BASE = ''; // same-origin API on Vercel
        // Country data: a small sample of destinations with history, attractions, foods and practical information.
        const countriesData = {
            'Australia': {
                history: `Australia's history stretches back tens of thousands of years with Indigenous cultures and more recently includes European colonisation and the development of a multicultural society. Today it's known for its stunning natural wonders, vibrant cities and relaxed outdoor lifestyle.`,
                attractions: ['Sydney Opera House', 'Great Barrier Reef', 'Uluru (Ayers Rock)'],
                foodsIntro: `Australian cuisine is influenced by many cultures. Expect hearty pies, BBQs and sweet treats like lamingtons. Eating out can be similar in price to the US, but cafes and bakeries offer affordable options.`,
                foods: [
                    { name: 'Meat Pie', description: 'A small savoury pie filled with minced meat and gravy, topped with tomato sauce.', affordability: 'Low‚ÄìMedium (USD $4‚Äì7 per pie)' },
                    { name: 'Vegemite Toast', description: 'Toasted bread spread with a dark yeast extract ‚Äì an acquired taste!', affordability: 'Very Low (USD $1‚Äì2 per serving)' },
                    { name: 'Lamington', description: 'Squares of sponge cake dipped in chocolate and rolled in coconut.', affordability: 'Low‚ÄìMedium (USD $3‚Äì5 per piece)' }
                ],
                hotelAffordability: `Hotel prices in major cities such as Sydney or Melbourne are comparable to or slightly higher than mid‚Äërange US hotels. Hostels and regional hotels are cheaper.`,
                relativeCostIndex: 0.95, // higher means closer to US costs
                safetyTips: [
                    'Slip, slop, slap ‚Äì the sun is strong so wear sunscreen and a hat.',
                    'Drive on the left and watch for wildlife on rural roads.',
                    'Respect Indigenous culture and sacred sites.',
                    'Swim between the flags at beaches and heed lifeguard advice.'
                ],
                phrases: {
                    'Hello': 'G‚Äôday',
                    'Thank you': 'Cheers',
                    'No worries': 'No worries'
                },
                emergencyContacts: [
                    { name: 'All Emergencies', number: '000' }
                ],
                timeZoneId: 'Australia/Sydney',
                currencyCode: 'AUD'
            },
            'Austria': {
                history: `Austria once anchored the Habsburg Empire and remains steeped in imperial history, classical music and alpine traditions. From Vienna‚Äôs palaces to Salzburg‚Äôs baroque architecture, the country breathes culture.`,
                attractions: ['Sch√∂nbrunn Palace', 'St. Stephen‚Äôs Cathedral', 'Hallstatt'],
                foodsIntro: `Austrian dishes are hearty and comforting. Savour Wiener Schnitzel, try pastries like Apfelstrudel and sample creamy cheeses.`,
                foods: [
                    { name: 'Wiener Schnitzel', description: 'Breaded veal cutlet fried until golden brown.', affordability: 'Medium (USD $15‚Äì25 per plate)' },
                    { name: 'Apfelstrudel', description: 'Apple strudel wrapped in thin pastry layers, usually served warm.', affordability: 'Low‚ÄìMedium (USD $4‚Äì8 per slice)' },
                    { name: 'K√§sesp√§tzle', description: 'Soft egg noodles with cheese and fried onions ‚Äì comfort food at its best.', affordability: 'Medium (USD $10‚Äì18 per dish)' }
                ],
                hotelAffordability: `Accommodation in Vienna and Salzburg is similar in price to mid‚Äërange US hotels, though pensions and guesthouses can offer better value.`,
                relativeCostIndex: 0.72,
                safetyTips: [
                    'Observe pedestrian signals ‚Äì jaywalking is frowned upon.',
                    'Carry some cash for markets and smaller shops.',
                    'Try a coffee house; it‚Äôs a cultural institution.',
                    'Validate your public transport ticket before boarding.'
                ],
                phrases: {
                    'Hello': 'Guten Tag',
                    'Thank you': 'Danke',
                    'Please': 'Bitte'
                },
                emergencyContacts: [
                    { name: 'All Emergencies', number: '112' }
                ],
                timeZoneId: 'Europe/Vienna',
                currencyCode: 'EUR'
            },
            'Colombia': {
                history: `Colombia‚Äôs history combines indigenous heritage, Spanish colonialism and a remarkable modern resurgence. Expect colourful towns, Andean peaks and Caribbean coastlines.`,
                attractions: ['Tayrona National Park', 'Ciudad Perdida', 'Comuna 13, Medell√≠n'],
                foodsIntro: `Meals are generous and tasty. Don‚Äôt miss bandeja paisa, fresh arepas and empanadas ‚Äì all at very affordable prices.`,
                foods: [
                    { name: 'Bandeja Paisa', description: 'A huge platter with rice, beans, meats, plantain and avocado.', affordability: 'Low (USD $8‚Äì15 per plate)' },
                    { name: 'Arepas', description: 'Corn cakes grilled or fried and served plain or stuffed.', affordability: 'Very Low (USD $1‚Äì3 each)' },
                    { name: 'Empanadas', description: 'Savory turnovers filled with meat, potatoes or cheese.', affordability: 'Very Low (USD $0.5‚Äì2 each)' }
                ],
                hotelAffordability: `Hotels, hostels and guesthouses are much cheaper than in the US. Even boutique options are a bargain in many areas.`,
                relativeCostIndex: 0.38,
                safetyTips: [
                    'Keep valuables out of sight and avoid flashy jewellery.',
                    'Use ride‚Äëhailing apps rather than hailing taxis on the street.',
                    'Drink bottled water unless told tap water is safe.',
                    'Engage with locals ‚Äì Colombians are famously welcoming.'
                ],
                phrases: {
                    'Hello': 'Hola',
                    'Thank you': 'Gracias',
                    'Please': 'Por favor'
                },
                emergencyContacts: [
                    { name: 'Police', number: '112' },
                    { name: 'Ambulance', number: '125' },
                    { name: 'Fire', number: '119' }
                ],
                timeZoneId: 'America/Bogota',
                currencyCode: 'COP'
            },
            'France': {
                history: `From medieval kingdoms and the French Revolution to modern times, France‚Äôs history is rich and influential. It remains a centre of art, food and fashion.`,
                attractions: ['Eiffel Tower', 'Louvre Museum', 'Palace of Versailles'],
                foodsIntro: `French cuisine is celebrated worldwide. Enjoy croissants, baguettes, local cheeses and cr√™pes ‚Äì many of which are affordable street foods.`,
                foods: [
                    { name: 'Croissant', description: 'Buttery crescent‚Äëshaped pastry ‚Äì perfect for breakfast.', affordability: 'Very Low (USD $1.5‚Äì3 each)' },
                    { name: 'Baguette', description: 'Crusty French bread, soft inside; a staple at every meal.', affordability: 'Very Low (USD $1‚Äì2 per loaf)' },
                    { name: 'Cr√™pe', description: 'Thin pancakes with sweet or savoury fillings.', affordability: 'Low (USD $4‚Äì8 each)' }
                ],
                hotelAffordability: `Accommodation in Paris can be expensive, but smaller towns and guesthouses offer better value.`,
                relativeCostIndex: 0.75,
                safetyTips: [
                    'Keep an eye on your belongings in crowded areas.',
                    'Learn a few French phrases ‚Äì locals appreciate the effort.',
                    'Tipping 5‚Äì10% is customary in restaurants.',
                    'Validate tickets on public transport.'
                ],
                phrases: {
                    'Hello': 'Bonjour',
                    'Thank you': 'Merci',
                    'Please': 'S‚Äôil vous pla√Æt'
                },
                emergencyContacts: [
                    { name: 'All Emergencies', number: '112' }
                ],
                timeZoneId: 'Europe/Paris',
                currencyCode: 'EUR'
            },
            'Spain': {
                history: `Spain is shaped by ancient Iberian, Roman and Moorish cultures and later became a leading maritime power in the 16th century. Its diverse regions retain distinct languages, traditions and architecture.`,
                attractions: ['Alhambra', 'Sagrada Fam√≠lia', 'Great Mosque of C√≥rdoba'],
                foodsIntro: `Spanish cuisine features tapas and hearty dishes. Coastal seafood and inland stews offer a range of flavours and generally cost less than in the US.`,
                foods: [
                    { name: 'Croquetas', description: 'Creamy b√©chamel croquettes with fillings like ham, morcilla or cod fried until crisp', affordability: 'Low (USD $4‚Äì8 per plate)' },
                    { name: 'Tortilla Espa√±ola', description: 'A thick omelet of eggs, potatoes and onions served as a tapa or main dish', affordability: 'Very Low (USD $3‚Äì5 per portion)' },
                    { name: 'Gazpacho', description: 'Chilled tomato soup blended with peppers, cucumber, garlic and herbs', affordability: 'Low (USD $3‚Äì6 per bowl)' }
                ],
                hotelAffordability: `Major cities like Madrid and Barcelona are moderately priced compared to the US. Rural guesthouses and hostels offer good value.`,
                relativeCostIndex: 0.655,
                safetyTips: [
                    'Beware of pickpockets in tourist areas and on public transport.',
                    'Adapt to local dining hours; many businesses close for siesta in the afternoon.',
                    'Carry some cash for small purchases; credit cards may not be accepted everywhere.'
                ],
                phrases: {
                    'Hello': 'Hola',
                    'Thank you': 'Gracias',
                    'Please': 'Por favor'
                },
                emergencyContacts: [
                    { name: 'All Emergencies', number: '112' },
                    { name: 'Ambulance', number: '061' },
                    { name: 'Fire', number: '080' },
                    { name: 'National Police', number: '091' }
                ],
                timeZoneId: 'Europe/Madrid',
                currencyCode: 'EUR'
            },
            'United States': {
                history: `The United States was founded in 1776 with the Declaration of Independence and has grown into a diverse federation of fifty states spanning North America.`,
                attractions: ['Grand Canyon', 'Statue of Liberty', 'Yellowstone'],
                foodsIntro: `American cuisine ranges from regional barbecue and burgers to Tex‚ÄëMex and Cajun dishes. Prices vary widely but affordable options like diners and food trucks abound.`,
                foods: [
                    { name: 'Hamburger', description: 'Grilled beef patty served in a bun with toppings such as lettuce, tomato, cheese and pickles', affordability: 'Low‚ÄìMedium (USD $5‚Äì12)' },
                    { name: 'Apple Pie', description: 'Classic dessert made with spiced apples baked in a flaky crust', affordability: 'Low (USD $3‚Äì5 per slice)' },
                    { name: 'Barbecue Ribs', description: 'Slow-cooked pork or beef ribs glazed with savoury-sweet sauce', affordability: 'Medium (USD $15‚Äì25 per platter)' }
                ],
                hotelAffordability: `Accommodation costs vary from budget motels to luxury hotels. Prices in major cities can be high, but suburban or rural lodging is more affordable.`,
                relativeCostIndex: 1.00,
                safetyTips: [
                    'Remember to tip service staff (15‚Äì20% is standard in restaurants).',
                    'Follow local laws and road rules; speed limits and seatbelts are enforced.',
                    'Stay aware of your surroundings in unfamiliar urban areas.'
                ],
                phrases: {
                    'Hello': 'Hello',
                    'Thank you': 'Thank you',
                    'Please': 'Please'
                },
                emergencyContacts: [
                    { name: 'All Emergencies', number: '911' }
                ],
                timeZoneId: 'America/New_York',
                currencyCode: 'USD'
            },
            'China': {
                history: `China's civilisation stretches back over 4,000 years, marked by imperial dynasties and inventions like paper, gunpowder and the compass. Today it is a modern global powerhouse that still treasures its cultural heritage.`,
                attractions: ['Great Wall', 'Forbidden City', 'Terracotta Army'],
                foodsIntro: `Chinese cuisine varies by region but features noodles, rice, stir‚Äëfried dishes and rich flavours. Street food and local restaurants offer meals at very low cost.`,
                foods: [
                    { name: 'Jiaozi Dumplings', description: 'Pork, vegetables or seafood wrapped in thin dough and boiled or steamed', affordability: 'Very Low (USD $2‚Äì5 per serving)' },
                    { name: 'Peking Duck', description: 'Roasted duck with crispy skin served with pancakes, scallions and hoisin sauce', affordability: 'Medium (USD $20‚Äì40 per duck)' },
                    { name: 'Hot Pot', description: 'Interactive meal where diners cook meats and vegetables in a simmering broth', affordability: 'Low‚ÄìMedium (USD $10‚Äì20 per person)' }
                ],
                hotelAffordability: `Hotels in major cities like Beijing or Shanghai range from budget hostels to luxury hotels at lower prices than similar categories in the US.`,
                relativeCostIndex: 0.493,
                safetyTips: [
                    'Carry a hotel card with the address in Chinese in case you need to show a taxi driver.',
                    'Tap water is not always potable ‚Äì drink bottled water.',
                    'Be cautious when crossing roads; traffic can be hectic.'
                ],
                phrases: {
                    'Hello': 'N«ê h«éo',
                    'Thank you': 'Xi√®xi√®',
                    'Please': 'Q«êng'
                },
                emergencyContacts: [
                    { name: 'Police', number: '110' },
                    { name: 'Ambulance', number: '120' },
                    { name: 'Fire', number: '119' }
                ],
                timeZoneId: 'Asia/Shanghai',
                currencyCode: 'CNY'
            },
            'Italy': {
                history: `From the Roman Empire to the Renaissance, Italy‚Äôs cultural legacy spans millennia. The country today is renowned for its art, architecture and regional traditions`,
                attractions: ['Colosseum', 'Florence‚Äôs Duomo', 'Grand Canal'],
                foodsIntro: `Italian cuisine emphasises fresh ingredients and simple preparations. Pizzas, pastas and gelato are widely available and range from inexpensive street food to gourmet meals.`,
                foods: [
                    { name: 'Pizza Margherita', description: 'Thin-crust pizza topped with tomatoes, mozzarella cheese and basil', affordability: 'Low (USD $6‚Äì10 per pizza)' },
                    { name: 'Pasta Carbonara', description: 'Spaghetti tossed with eggs, pecorino cheese, guanciale and black pepper', affordability: 'Medium (USD $10‚Äì15 per plate)' },
                    { name: 'Gelato', description: 'Creamy Italian ice cream in a variety of flavours', affordability: 'Low (USD $3‚Äì5 per scoop)' }
                ],
                hotelAffordability: `Accommodation costs in Rome, Venice and Florence can be high, but countryside B&Bs and agriturismos offer affordable alternatives.`,
                relativeCostIndex: 0.703,
                safetyTips: [
                    'Beware of pickpockets in crowded tourist areas.',
                    'Dress modestly when visiting churches; shoulders and knees should be covered.',
                    'Validate tickets on trains and buses to avoid fines.'
                ],
                phrases: {
                    'Hello': 'Ciao',
                    'Thank you': 'Grazie',
                    'Please': 'Per favore'
                },
                emergencyContacts: [
                    { name: 'All Emergencies', number: '112' }
                ],
                timeZoneId: 'Europe/Rome',
                currencyCode: 'EUR'
            },
            'Turkey': {
                history: `Turkey bridges Europe and Asia and has been home to ancient civilizations including the Hittites, Greeks, Romans and Ottomans. Its culture blends east and west.`,
                attractions: ['Hagia Sophia', 'Cappadocia Fairy Chimneys', 'Ephesus'],
                foodsIntro: `Turkish cuisine features grilled meats, mezes and sweets such as baklava. Meals at local restaurants are generally inexpensive.`,
                foods: [
                    { name: 'Doner Kebab', description: 'Spit‚Äëroasted meat sliced and served in bread with salad and sauce', affordability: 'Low (USD $3‚Äì6 per wrap)' },
                    { name: 'Meze Platter', description: 'Selection of small dishes like hummus, stuffed grape leaves and cheeses', affordability: 'Low‚ÄìMedium (USD $6‚Äì12 per plate)' },
                    { name: 'Baklava', description: 'Layered pastry filled with nuts and soaked in honey syrup', affordability: 'Low (USD $2‚Äì4 per piece)' }
                ],
                hotelAffordability: `Hotels and guesthouses in Istanbul and coastal resorts are cheaper than comparable accommodation in Western Europe or the US.`,
                relativeCostIndex: 0.382,
                safetyTips: [
                    'Dress modestly when visiting mosques and remove your shoes.',
                    'Stay aware of your belongings in crowded bazaars and transit hubs.',
                    'Negotiate taxi fares or insist on using the meter.'
                ],
                phrases: {
                    'Hello': 'Merhaba',
                    'Thank you': 'Te≈üekk√ºr ederim',
                    'Please': 'L√ºtfen'
                },
                emergencyContacts: [
                    { name: 'All Emergencies', number: '112' },
                    { name: 'Police', number: '155' },
                    { name: 'Ambulance', number: '112' },
                    { name: 'Fire', number: '110' }
                ],
                timeZoneId: 'Europe/Istanbul',
                currencyCode: 'TRY'
            },
            'Mexico': {
                history: `Mexico‚Äôs history spans ancient civilizations such as the Maya and Aztec, Spanish colonial rule and a rich cultural heritage that endures today.`,
                attractions: ['Chich√©n Itz√°', 'Teotihuac√°n', 'Canc√∫n Beaches'],
                foodsIntro: `Mexican cuisine uses corn, beans, chilli and vibrant spices. Street stalls offer tasty food at very low prices.`,
                foods: [
                    { name: 'Tacos', description: 'Soft corn tortillas filled with meats, salsas, onions and cilantro', affordability: 'Very Low (USD $1‚Äì3 per taco)' },
                    { name: 'Enchiladas', description: 'Tortillas rolled around fillings like chicken or cheese and covered in chilli sauce', affordability: 'Low (USD $5‚Äì10 per plate)' },
                    { name: 'Mole Poblano', description: 'Rich sauce of chillies, chocolate and spices served over meat', affordability: 'Medium (USD $8‚Äì15 per dish)' }
                ],
                hotelAffordability: `Accommodation ranges from budget hostels to luxury beach resorts. Prices in tourist areas are lower than in the US for comparable quality.`,
                relativeCostIndex: 0.599,
                safetyTips: [
                    'Drink bottled water and avoid ice in drinks unless filtered.',
                    'Stay in well-trafficked areas and use authorised taxis or ride‚Äësharing apps.',
                    'Keep a copy of your passport and secure your valuables.'
                ],
                phrases: {
                    'Hello': 'Hola',
                    'Thank you': 'Gracias',
                    'Please': 'Por favor'
                },
                emergencyContacts: [
                    { name: 'All Emergencies', number: '911' }
                ],
                timeZoneId: 'America/Mexico_City',
                currencyCode: 'MXN'
            },
            'Thailand': {
                history: `Thailand, formerly Siam, was one of the few Southeast Asian nations never colonised. It has a long history of monarchies and is known for its temples and warm hospitality.`,
                attractions: ['Grand Palace', 'Chiang Mai Old City', 'Phuket Beaches'],
                foodsIntro: `Thai cuisine balances sweet, sour, salty and spicy flavours. Street food is ubiquitous and extremely affordable.`,
                foods: [
                    { name: 'Pad Thai', description: 'Stir‚Äëfried rice noodles with eggs, tofu or shrimp, peanuts and tamarind sauce', affordability: 'Very Low (USD $1‚Äì3 per plate)' },
                    { name: 'Tom Yum Goong', description: 'Hot and sour soup with shrimp, lemongrass, lime and chilli', affordability: 'Low (USD $3‚Äì6 per bowl)' },
                    { name: 'Mango Sticky Rice', description: 'Sweet glutinous rice served with ripe mango and coconut milk', affordability: 'Low (USD $2‚Äì4 per serving)' }
                ],
                hotelAffordability: `Hotels and guesthouses are much cheaper than in Western countries. Even mid‚Äërange resorts are affordable.`,
                relativeCostIndex: 0.310,
                safetyTips: [
                    'Dress modestly when visiting temples; shoulders and knees should be covered.',
                    'Remove shoes before entering homes and some shops.',
                    'Beware of scams and inflated tourist prices ‚Äì negotiate when appropriate.'
                ],
                phrases: {
                    'Hello': 'Sawasdee (s√†‚Äëw√†t-dee)',
                    'Thank you': 'Khob khun',
                    'Please': 'Karuna (kr√ªu-n√¢)'
                },
                emergencyContacts: [
                    { name: 'Police', number: '191' },
                    { name: 'Ambulance', number: '1669' },
                    { name: 'Fire', number: '199' }
                ],
                timeZoneId: 'Asia/Bangkok',
                currencyCode: 'THB'
            },
            'Germany': {
                history: `Germany‚Äôs history spans the Holy Roman Empire, unification in 1871, division during the Cold War and reunification in 1990. Today it is a global economic leader known for engineering and culture.`,
                attractions: ['Brandenburg Gate', 'Neuschwanstein Castle', 'Berlin Wall'],
                foodsIntro: `German cuisine includes hearty meats, sausages, breads and cakes. Portions are generous and prices are moderate.`,
                foods: [
                    { name: 'Bratwurst', description: 'Grilled pork sausage served with mustard and bread', affordability: 'Low (USD $3‚Äì6 per sausage)' },
                    { name: 'Schnitzel', description: 'Breaded and fried pork or veal cutlet with lemon', affordability: 'Medium (USD $10‚Äì18 per plate)' },
                    { name: 'Pretzel (Brezel)', description: 'Soft baked bread twisted into a knot and sprinkled with coarse salt', affordability: 'Very Low (USD $1‚Äì3 each)' }
                ],
                hotelAffordability: `Accommodation in major cities is comparable to other Western European countries; pensions and hostels offer more affordable options.`,
                relativeCostIndex: 0.783,
                safetyTips: [
                    'Jaywalking is discouraged ‚Äì cross at designated crossings.',
                    'Carry cash; some smaller shops and caf√©s may not accept cards.',
                    'Recycle bottles at machines in supermarkets to get a deposit refund.'
                ],
                phrases: {
                    'Hello': 'Hallo',
                    'Thank you': 'Danke',
                    'Please': 'Bitte'
                },
                emergencyContacts: [
                    { name: 'All Emergencies', number: '112' },
                    { name: 'Police', number: '110' }
                ],
                timeZoneId: 'Europe/Berlin',
                currencyCode: 'EUR'
            },
            'United Kingdom': {
                history: `The United Kingdom formed through the union of England, Scotland, Wales and Northern Ireland. It has played a major role in world history from the industrial revolution to a modern constitutional monarchy.`,
                attractions: ['Big Ben', 'Stonehenge', 'Edinburgh Castle'],
                foodsIntro: `British food ranges from fish and chips to hearty pies and curries. Pub meals and takeaway shops offer affordable options.`,
                foods: [
                    { name: 'Fish and Chips', description: 'Battered fish fillet served with thick-cut fried potatoes', affordability: 'Low (GBP ¬£5‚Äì10)' },
                    { name: 'Full English Breakfast', description: 'Plate of eggs, bacon, sausages, baked beans, mushrooms and toast', affordability: 'Low‚ÄìMedium (GBP ¬£6‚Äì12)' },
                    { name: 'Shepherd‚Äôs Pie', description: 'Savory pie with minced lamb and vegetables topped with mashed potatoes', affordability: 'Medium (GBP ¬£8‚Äì15)' }
                ],
                hotelAffordability: `Accommodation in London can be expensive, but B&Bs and countryside inns elsewhere offer better value.`,
                relativeCostIndex: 0.899,
                safetyTips: [
                    'Look both ways carefully when crossing roads ‚Äì traffic drives on the left.',
                    'Queue politely and wait your turn; manners are valued.',
                    'Book popular attractions in advance to avoid long queues.'
                ],
                phrases: {
                    'Hello': 'Hello',
                    'Thank you': 'Thank you',
                    'Please': 'Please'
                },
                emergencyContacts: [
                    { name: 'All Emergencies', number: '999' },
                    { name: 'Alternative Emergency', number: '112' }
                ],
                timeZoneId: 'Europe/London',
                currencyCode: 'GBP'
            },
            'Japan': {
                history: `Japan‚Äôs history includes centuries of imperial rule, isolation during the Tokugawa shogunate and rapid modernisation during the Meiji era. It blends traditional culture with cutting-edge technology.`,
                attractions: ['Shibuya Crossing', 'Kinkaku‚Äëji (Golden Pavilion)', 'Mount Fuji'],
                foodsIntro: `Japanese cuisine emphasises fresh ingredients, seasonal dishes and careful presentation. Sushi, ramen and tempura are famous examples.`,
                foods: [
                    { name: 'Sushi', description: 'Vinegared rice topped or rolled with raw or cooked fish and vegetables', affordability: 'Medium (JPY ¬•500‚Äì1500 per plate)' },
                    { name: 'Ramen', description: 'Noodles served in a savoury broth with toppings like pork, egg and seaweed', affordability: 'Low (JPY ¬•600‚Äì1000 per bowl)' },
                    { name: 'Tempura', description: 'Seafood or vegetables lightly battered and deep-fried', affordability: 'Medium (JPY ¬•800‚Äì1500 per plate)' }
                ],
                hotelAffordability: `Hotels range from capsule inns to luxury ryokan. Prices in major cities like Tokyo can be high but budget options exist.`,
                relativeCostIndex: 0.668,
                safetyTips: [
                    'Bow slightly when greeting; respect local etiquette.',
                    'Remove shoes when entering homes and some restaurants or shrines.',
                    'Keep your voice low on public transport and don‚Äôt talk on the phone in trains.'
                ],
                phrases: {
                    'Hello': 'Konnichiwa',
                    'Thank you': 'Arigato',
                    'Please': 'Onegaishimasu'
                },
                emergencyContacts: [
                    { name: 'Police', number: '110' },
                    { name: 'Fire & Ambulance', number: '119' }
                ],
                timeZoneId: 'Asia/Tokyo',
                currencyCode: 'JPY'
            },
            'Greece': {
                history: `Ancient Greece gave birth to democracy, theatre and philosophy. Modern Greece carries this legacy alongside centuries of Byzantine and Ottoman rule.`,
                attractions: ['Acropolis of Athens', 'Santorini', 'Delphi'],
                foodsIntro: `Greek cuisine features olive oil, fresh vegetables and grilled meats. Tavernas offer generous portions at reasonable prices.`,
                foods: [
                    { name: 'Moussaka', description: 'Baked layers of eggplant, minced meat and b√©chamel sauce', affordability: 'Low‚ÄìMedium (EUR ‚Ç¨6‚Äì10 per serving)' },
                    { name: 'Souvlaki', description: 'Skewered and grilled meat served in pita bread with tomatoes and tzatziki', affordability: 'Low (EUR ‚Ç¨3‚Äì6)' },
                    { name: 'Greek Salad (Horiatiki)', description: 'Salad of tomatoes, cucumber, feta cheese, olives and oregano', affordability: 'Very Low (EUR ‚Ç¨2‚Äì5)' }
                ],
                hotelAffordability: `Accommodation on the islands can be pricey during high season, but mainland guesthouses and off‚Äëseason stays offer good value.`,
                relativeCostIndex: 0.620,
                safetyTips: [
                    'Avoid sunburn by wearing sunscreen and staying hydrated.',
                    'Respect archaeological sites and do not climb on ruins.',
                    'Cash is still widely used; carry euros for small purchases.'
                ],
                phrases: {
                    'Hello': 'Yasou (ŒìŒµŒπŒ¨ œÉŒøœÖ)',
                    'Thank you': 'Efcharist√≥ (ŒïœÖœáŒ±œÅŒπœÉœÑœé)',
                    'Please': 'Parakal√≥ (Œ†Œ±œÅŒ±Œ∫Œ±Œªœé)'
                },
                emergencyContacts: [
                    { name: 'All Emergencies', number: '112' }
                ],
                timeZoneId: 'Europe/Athens',
                currencyCode: 'EUR'
            },
            'Malaysia': {
                history: `Malaysia has a multicultural heritage influenced by Malay, Chinese, Indian and indigenous cultures. It gained independence from Britain in 1957 and is known for its rainforests and modern cities.`,
                attractions: ['Petronas Towers', 'Langkawi Islands', 'George Town'],
                foodsIntro: `Malaysian cuisine blends Malay, Chinese and Indian influences. Street hawker centres offer inexpensive meals.`,
                foods: [
                    { name: 'Nasi Lemak', description: 'Rice cooked in coconut milk served with sambal, anchovies, peanuts and egg', affordability: 'Very Low (MYR RM3‚Äì6 per serving)' },
                    { name: 'Char Kway Teow', description: 'Stir-fried flat rice noodles with prawns, eggs, bean sprouts and soy sauce', affordability: 'Low (MYR RM5‚Äì10)' },
                    { name: 'Roti Canai', description: 'Flaky flatbread served with dhal or curry', affordability: 'Very Low (MYR RM1‚Äì3 per piece)' }
                ],
                hotelAffordability: `Accommodation is affordable, with modern hotels and guesthouses costing much less than in Western countries.`,
                relativeCostIndex: 0.317,
                safetyTips: [
                    'Dress modestly in rural areas and religious sites.',
                    'Carry insect repellent to deter mosquitoes.',
                    'Watch out for wild monkeys around temples and parks.'
                ],
                phrases: {
                    'Hello': 'Selamat pagi / Hello',
                    'Thank you': 'Terima kasih',
                    'Please': 'Sila'
                },
                emergencyContacts: [
                    { name: 'All Emergencies', number: '999' },
                    { name: 'Alternative Mobile', number: '112' }
                ],
                timeZoneId: 'Asia/Kuala_Lumpur',
                currencyCode: 'MYR'
            },
            'Portugal': {
                history: `Portugal established a global empire in the 15th century and is known for its maritime discoveries, fado music and cobbled streets.`,
                attractions: ['Bel√©m Tower', 'Ribeira District', 'Pena Palace'],
                foodsIntro: `Portuguese cuisine is simple and hearty with lots of seafood, olive oil and spices. Past√©is de nata and grilled sardines are favourites.`,
                foods: [
                    { name: 'Pastel de Nata', description: 'Custard tart with flaky pastry, often dusted with cinnamon', affordability: 'Low (EUR ‚Ç¨1‚Äì2 each)' },
                    { name: 'Bacalhau √† Br√°s', description: 'Salt cod with onions, potatoes and eggs', affordability: 'Medium (EUR ‚Ç¨8‚Äì12 per dish)' },
                    { name: 'Caldo Verde', description: 'Green soup made with potatoes, kale and chouri√ßo sausage', affordability: 'Very Low (EUR ‚Ç¨2‚Äì4 per bowl)' }
                ],
                hotelAffordability: `Accommodation in Lisbon and Porto is more affordable than in many Western European capitals; boutique hotels and guesthouses offer good value.`,
                relativeCostIndex: 0.627,
                safetyTips: [
                    'Wear comfortable shoes; many streets are steep and paved with slippery cobblestones.',
                    'Be mindful of pickpockets on trams and in tourist areas.',
                    'Try to speak some basic Portuguese; locals appreciate the effort.'
                ],
                phrases: {
                    'Hello': 'Ol√°',
                    'Thank you': 'Obrigado / Obrigada',
                    'Please': 'Por favor'
                },
                emergencyContacts: [
                    { name: 'All Emergencies', number: '112' }
                ],
                timeZoneId: 'Europe/Lisbon',
                currencyCode: 'EUR'
            },
            'Canada': {
                history: `Canada formed through the union of British colonies in 1867 and spans from the Atlantic to the Pacific. It is known for its natural beauty and multicultural society.`,
                attractions: ['Niagara Falls', 'Banff National Park', 'CN Tower in Toronto'],
                foodsIntro: `Canadian cuisine includes indigenous staples, French and British dishes and immigrant influences. Portions are hearty and prices are similar to the US.`,
                foods: [
                    { name: 'Poutine', description: 'French fries topped with cheese curds and gravy', affordability: 'Low (CAD $5‚Äì8 per serving)' },
                    { name: 'Maple Syrup Treats', description: 'Pancakes or snow taffy drizzled with pure maple syrup', affordability: 'Very Low (CAD $2‚Äì5)' },
                    { name: 'Butter Tart', description: 'Sweet tart filled with butter, sugar and sometimes raisins', affordability: 'Low (CAD $2‚Äì4 per tart)' }
                ],
                hotelAffordability: `Hotel prices in large cities are comparable to the US. Wilderness lodges and hostels provide affordable alternatives in rural areas.`,
                relativeCostIndex: 0.874,
                safetyTips: [
                    'Prepare for variable weather; pack layers and waterproof gear.',
                    'Respect wildlife by keeping a safe distance and storing food properly.',
                    'Tipping 15‚Äì20% is customary in restaurants.'
                ],
                phrases: {
                    'Hello': 'Hello / Bonjour',
                    'Thank you': 'Thank you / Merci',
                    'Please': 'Please / S‚Äôil vous pla√Æt'
                },
                emergencyContacts: [
                    { name: 'All Emergencies', number: '911' }
                ],
                timeZoneId: 'America/Toronto',
                currencyCode: 'CAD'
            },
            'South Korea': {
                history: `South Korea emerged from the Korean Peninsula‚Äôs long history, including the Joseon dynasty and the Korean War, and has grown into a high-tech, pop-culture powerhouse.`,
                attractions: ['Gyeongbokgung Palace', 'Jeju Island', 'N Seoul Tower'],
                foodsIntro: `Korean cuisine features fermented flavours, rice, vegetables and grilled meats. Many dishes are shared, and eating out is affordable.`,
                foods: [
                    { name: 'Kimchi', description: 'Fermented cabbage or radish seasoned with chilli, garlic and ginger', affordability: 'Very Low (KRW ‚Ç©1000‚Äì2000 per side)' },
                    { name: 'Bibimbap', description: 'Rice bowl topped with vegetables, beef, egg and gochujang sauce', affordability: 'Low (KRW ‚Ç©5000‚Äì8000)' },
                    { name: 'Korean BBQ', description: 'Grilled meats cooked at the table and eaten with side dishes', affordability: 'Medium (KRW ‚Ç©10,000‚Äì20,000 per person)' }
                ],
                hotelAffordability: `Accommodation ranges from budget guesthouses and jjimjilbang (bathhouse stays) to luxury hotels at lower prices than in Japan or the US.`,
                relativeCostIndex: 0.684,
                safetyTips: [
                    'Use both hands when giving or receiving items, especially when handing money.',
                    'Stand on the right-hand side of escalators in Seoul, except in Busan (left).',
                    'Late-night buses and subways may be crowded; keep personal items secure.'
                ],
                phrases: {
                    'Hello': 'Annyeonghaseyo (ÏïàÎÖïÌïòÏÑ∏Ïöî)',
                    'Thank you': 'Kamsahamnida (Í∞êÏÇ¨Ìï©ÎãàÎã§)',
                    'Please': 'Butakhamnida (Î∂ÄÌÉÅÌï©ÎãàÎã§)'
                },
                emergencyContacts: [
                    { name: 'Police', number: '112' },
                    { name: 'Fire & Ambulance', number: '119' }
                ],
                timeZoneId: 'Asia/Seoul',
                currencyCode: 'KRW'
            },
            'Hong Kong': {
                history: `Hong Kong was a British colony until 1997 and is now a Special Administrative Region of China. It blends skyscrapers with historic temples and markets.`,
                attractions: ['Victoria Peak', 'Tian Tan Buddha (Big Buddha)', 'Mong Kok Markets'],
                foodsIntro: `Hong Kong cuisine combines Cantonese techniques with international influences. Dim sum and street snacks are popular and affordable.`,
                foods: [
                    { name: 'Dim Sum', description: 'Small steamed or fried savoury and sweet dishes served with tea', affordability: 'Low‚ÄìMedium (HKD $30‚Äì80 per basket)' },
                    { name: 'Char Siu', description: 'Barbecued pork with a sweet glaze, typically served with rice or noodles', affordability: 'Low (HKD $40‚Äì80 per plate)' },
                    { name: 'Egg Tart', description: 'Flaky pastry filled with silky egg custard', affordability: 'Very Low (HKD $5‚Äì10 each)' }
                ],
                hotelAffordability: `Accommodation is expensive by regional standards, but budget guesthouses and capsule hotels offer savings.`,
                relativeCostIndex: 0.748,
                safetyTips: [
                    'Octopus cards (smart cards) make paying for transit and small purchases easy.',
                    'Respect personal space on escalators and use the ‚Äústand right, walk left‚Äù rule.',
                    'Summer can be hot and humid; carry water and an umbrella.'
                ],
                phrases: {
                    'Hello': 'Neih h√≥u (‰Ω†Â•Ω)',
                    'Thank you': 'MÃÄh‚Äôg≈çi (ÂîîË©≤)',
                    'Please': 'Ching (Ë´ã)'
                },
                emergencyContacts: [
                    { name: 'All Emergencies', number: '999' }
                ],
                timeZoneId: 'Asia/Hong_Kong',
                currencyCode: 'HKD'
            },
            'Netherlands': {
                history: `The Netherlands is famed for its Golden Age of trade in the 17th century and for its progressive social policies today. The country is built on reclaimed land with a network of canals.`,
                attractions: ['Canal Ring', 'Keukenhof Gardens', 'Kinderdijk Windmills'],
                foodsIntro: `Dutch cuisine includes cheese, breads and hearty stews. Street foods like herring and stroopwafels are inexpensive and tasty.`,
                foods: [
                    { name: 'Haring (Herring)', description: 'Raw herring fish served with onions and pickles', affordability: 'Low (EUR ‚Ç¨2‚Äì4 per portion)' },
                    { name: 'Stroopwafel', description: 'Thin waffle cookies sandwiched with caramel syrup', affordability: 'Very Low (EUR ‚Ç¨1‚Äì2 each)' },
                    { name: 'Poffertjes', description: 'Mini fluffy pancakes dusted with powdered sugar', affordability: 'Low (EUR ‚Ç¨3‚Äì5 per plate)' }
                ],
                hotelAffordability: `Hotels in Amsterdam can be expensive; consider staying in smaller towns or on houseboats for a unique and affordable experience.`,
                relativeCostIndex: 0.836,
                safetyTips: [
                    'Watch out for cyclists when crossing streets or exiting trams.',
                    'Carry contactless cards or cash; some places do not accept Visa/MasterCard.',
                    'Respect quiet hours and avoid loud noise in residential areas.'
                ],
                phrases: {
                    'Hello': 'Hallo',
                    'Thank you': 'Dank je',
                    'Please': 'Alsjeblieft'
                },
                emergencyContacts: [
                    { name: 'All Emergencies', number: '112' }
                ],
                timeZoneId: 'Europe/Amsterdam',
                currencyCode: 'EUR'
            },
            'Saudi Arabia': {
                history: `Saudi Arabia is the birthplace of Islam and home to the holy cities of Mecca and Medina. The kingdom was unified in 1932 under King Abdulaziz Ibn Saud.`,
                attractions: ['Masjid al‚ÄëHaram', 'Mada‚Äôin Saleh', 'Edge of the World'],
                foodsIntro: `Saudi cuisine centres around rice, lamb, dates and spices. Meals are often shared and generous in portion.`,
                foods: [
                    { name: 'Kabsa', description: 'Rice dish cooked with meat, vegetables and a blend of spices', affordability: 'Medium (SAR 20‚Äì40 per plate)' },
                    { name: 'Shawarma', description: 'Spit‚Äëroasted meat wrapped in flatbread with garlic sauce and pickles', affordability: 'Low (SAR 10‚Äì20)' },
                    { name: 'Dates & Arabic Coffee', description: 'Traditional hospitality pairing of dates with lightly spiced coffee', affordability: 'Very Low (SAR 5‚Äì10)' }
                ],
                hotelAffordability: `Hotel prices vary widely; pilgrim seasons see higher rates in Mecca and Medina. In other cities, international hotels offer good value compared to the US.`,
                relativeCostIndex: 0.502,
                safetyTips: [
                    'Dress conservatively; women should wear abayas in public and cover their hair where required.',
                    'Avoid public displays of affection; respect local customs.',
                    'In the desert, stay hydrated and protect yourself from the sun.'
                ],
                phrases: {
                    'Hello': 'As‚ÄësalƒÅm  øalaykum (ÿßŸÑÿ≥ŸÑÿßŸÖ ÿπŸÑŸäŸÉŸÖ)',
                    'Thank you': 'Shukran (ÿ¥ŸÉÿ±ÿß)',
                    'Please': 'Min fa·∏çlik (ŸÖŸÜ ŸÅÿ∂ŸÑŸÉ)'
                },
                emergencyContacts: [
                    { name: 'General Emergency', number: '911' },
                    { name: 'Police', number: '999' },
                    { name: 'Ambulance', number: '997' },
                    { name: 'Fire', number: '998' }
                ],
                timeZoneId: 'Asia/Riyadh',
                currencyCode: 'SAR'
            },
            'Poland': {
                history: `Poland‚Äôs history includes medieval kingdoms, partitions by its neighbours and rebirth after World War I and the fall of communism. Today it blends historic sites with modern cities.`,
                attractions: ['Wawel Castle', 'Warsaw Old Town', 'Wieliczka Salt Mine'],
                foodsIntro: `Polish cuisine is hearty, featuring soups, dumplings and meats. Meals are affordable, especially outside tourist centres.`,
                foods: [
                    { name: 'Pierogi', description: 'Dumplings stuffed with cheese, potato, meat or fruit', affordability: 'Low (PLN z≈Ç10‚Äì20 per portion)' },
                    { name: '≈ªurek', description: 'Sour rye soup often served in a bread bowl', affordability: 'Very Low (PLN z≈Ç8‚Äì15)' },
                    { name: 'Kielbasa', description: 'Smoked sausage served grilled or boiled', affordability: 'Low (PLN z≈Ç8‚Äì15)' }
                ],
                hotelAffordability: `Accommodation in Poland is generally affordable; luxury hotels cost less than in Western Europe.`,
                relativeCostIndex: 0.521,
                safetyTips: [
                    'Validate public transport tickets to avoid fines.',
                    'Carry cash; some small shops do not accept cards.',
                    'Polish winters can be harsh; dress warmly if visiting between November and March.'
                ],
                phrases: {
                    'Hello': 'Cze≈õƒá',
                    'Thank you': 'Dziƒôkujƒô',
                    'Please': 'Proszƒô'
                },
                emergencyContacts: [
                    { name: 'All Emergencies', number: '112' }
                ],
                timeZoneId: 'Europe/Warsaw',
                currencyCode: 'PLN'
            },
            'Hungary': {
                history: `Hungary has roots in the Hungarian Kingdom founded in 1000 CE. It later became part of the Austro-Hungarian Empire and today is known for its thermal baths and architecture.`,
                attractions: ['Buda Castle', 'Sz√©chenyi Thermal Bath', 'Lake Balaton'],
                foodsIntro: `Hungarian cuisine features paprika‚Äëspiced meats and hearty stews. Dining out is inexpensive compared to Western Europe.`,
                foods: [
                    { name: 'Goulash (Guly√°s)', description: 'Beef stew with paprika, onions and potatoes', affordability: 'Low (HUF Ft1500‚Äì3000)' },
                    { name: 'L√°ngos', description: 'Fried dough topped with garlic sauce, cheese and sour cream', affordability: 'Very Low (HUF Ft500‚Äì1000)' },
                    { name: 'Dobos Torte', description: 'Layered sponge cake with chocolate buttercream and caramel', affordability: 'Low (HUF Ft800‚Äì1500 per slice)' }
                ],
                hotelAffordability: `Accommodation in Budapest is affordable compared to Western Europe, with many budget hotels and apartments available.`,
                relativeCostIndex: 0.530,
                safetyTips: [
                    'Beware of taxi scams; use official cabs or ride-sharing apps.',
                    'Thermal baths have specific etiquette; follow rules for pools and saunas.',
                    'Carry small denominations of cash for markets and small shops.'
                ],
                phrases: {
                    'Hello': 'Szia',
                    'Thank you': 'K√∂sz√∂n√∂m',
                    'Please': 'K√©rem'
                },
                emergencyContacts: [
                    { name: 'All Emergencies', number: '112' }
                ],
                timeZoneId: 'Europe/Budapest',
                currencyCode: 'HUF'
            },
            'India': {
                history: `India‚Äôs civilisation is one of the world‚Äôs oldest, with history that includes the Indus Valley civilisation, Mughal Empire and British colonial period. It became independent in 1947.`,
                attractions: ['Taj Mahal', 'Amber Fort', 'Varanasi Ghats'],
                foodsIntro: `Indian cuisine varies widely between regions but often includes curries, breads and vegetarian dishes. Street food is flavourful and inexpensive.`,
                foods: [
                    { name: 'Butter Chicken', description: 'Chicken cooked in a creamy tomato gravy with spices', affordability: 'Low (INR ‚Çπ200‚Äì400 per portion)' },
                    { name: 'Chaat', description: 'Savory snacks like pani puri and bhel puri bursting with tangy flavours', affordability: 'Very Low (INR ‚Çπ50‚Äì100)' },
                    { name: 'Masala Dosa', description: 'Crispy rice cr√™pe filled with spiced potato served with chutneys', affordability: 'Low (INR ‚Çπ80‚Äì150)' }
                ],
                hotelAffordability: `Accommodation ranges from budget guesthouses to five-star hotels; prices are much lower than in the US.`,
                relativeCostIndex: 0.238,
                safetyTips: [
                    'Drink only bottled or purified water.',
                    'Dress modestly, especially at religious sites.',
                    'Be cautious when crossing roads; traffic can be chaotic.'
                ],
                phrases: {
                    'Hello': 'Namaste',
                    'Thank you': 'Dhanyavaad',
                    'Please': 'Kripya'
                },
                emergencyContacts: [
                    { name: 'All Emergencies', number: '112' },
                    { name: 'Police', number: '100' },
                    { name: 'Ambulance', number: '108' },
                    { name: 'Fire', number: '101' }
                ],
                timeZoneId: 'Asia/Kolkata',
                currencyCode: 'INR'
            },
            'Switzerland': {
                history: `Switzerland is a confederation founded in 1291 and renowned for its neutrality, alpine landscapes and banking industry.`,
                attractions: ['Matterhorn', 'Ch√¢teau de Chillon', 'Jungfraujoch'],
                foodsIntro: `Swiss cuisine includes cheese, chocolate and hearty alpine dishes. Dining out can be expensive, but supermarkets offer picnic options.`,
                foods: [
                    { name: 'Fondue', description: 'Melted cheese served in a communal pot for dipping bread', affordability: 'Medium‚ÄìHigh (CHF 20‚Äì30 per person)' },
                    { name: 'R√∂sti', description: 'Crispy fried grated potatoes often served as a side', affordability: 'Medium (CHF 10‚Äì15)' },
                    { name: 'Chocolate', description: 'High-quality Swiss chocolate bars or pralines', affordability: 'Low‚ÄìMedium (CHF 5‚Äì10)' }
                ],
                hotelAffordability: `Accommodation is costly; even mid-range hotels and chalets can be significantly more expensive than in the US.`,
                relativeCostIndex: 1.258,
                safetyTips: [
                    'Public transport is punctual ‚Äì arrive on time for trains and buses.',
                    'Carry cash; some mountain huts do not accept credit cards.',
                    'Respect quiet hours in residential areas and on public transport.'
                ],
                phrases: {
                    'Hello': 'Gr√ºezi (German) / Bonjour (French) / Buongiorno (Italian)',
                    'Thank you': 'Danke / Merci / Grazie',
                    'Please': 'Bitte / S‚Äôil vous pla√Æt / Per favore'
                },
                emergencyContacts: [
                    { name: 'All Emergencies', number: '112' },
                    { name: 'Mountain Rescue', number: '1414' }
                ],
                timeZoneId: 'Europe/Zurich',
                currencyCode: 'CHF'
            },
            'Croatia': {
                history: `Croatia‚Äôs past includes Roman provinces, Venetian rule, Habsburg influence and Yugoslavian membership before its independence in 1991.`,
                attractions: ['Dubrovnik Old Town', 'Plitvice Lakes', 'Diocletian‚Äôs Palace'],
                foodsIntro: `Croatian cuisine mixes Mediterranean and Central European flavours. Seafood, grilled meats and pastries are common and affordable.`,
                foods: [
                    { name: 'ƒÜevapi', description: 'Grilled minced meat sausages served with onions and flatbread', affordability: 'Low (HRK kn30‚Äì60)' },
                    { name: 'Peka', description: 'Meat and vegetables slow-cooked under a bell-like lid covered with coals', affordability: 'Medium (HRK kn80‚Äì150 per person)' },
                    { name: 'Strukli', description: 'Baked or boiled pastry filled with cottage cheese', affordability: 'Low (HRK kn20‚Äì40)' }
                ],
                hotelAffordability: `Prices rise on the Adriatic coast in summer but remain lower than in Western Europe. Off-season stays are particularly affordable.`,
                relativeCostIndex: 0.550,
                safetyTips: [
                    'Wear sturdy footwear for hiking in national parks and on cobblestones.',
                    'Respect coastal ecosystems by not disturbing marine life or removing stones.',
                    'Use sun protection; summers are hot and sunny.'
                ],
                phrases: {
                    'Hello': 'Bok',
                    'Thank you': 'Hvala',
                    'Please': 'Molim'
                },
                emergencyContacts: [
                    { name: 'All Emergencies', number: '112' }
                ],
                timeZoneId: 'Europe/Zagreb',
                currencyCode: 'EUR'
            },
            'Indonesia': {
                history: `Indonesia is an archipelago of over 17,000 islands and home to hundreds of ethnic groups. It declared independence from Dutch colonial rule in 1945.`,
                attractions: ['Borobudur Temple', 'Bali Beaches', 'Komodo National Park'],
                foodsIntro: `Indonesian cuisine is diverse, with rice, noodles and satay skewers. Street vendors sell filling meals at very low prices.`,
                foods: [
                    { name: 'Nasi Goreng', description: 'Fried rice with sweet soy sauce, eggs and vegetables or meat', affordability: 'Very Low (IDR Rp10,000‚Äì25,000)' },
                    { name: 'Satay', description: 'Skewers of grilled meat served with peanut sauce', affordability: 'Low (IDR Rp15,000‚Äì30,000)' },
                    { name: 'Gado-Gado', description: 'Salad of blanched vegetables with tofu, tempeh and peanut sauce', affordability: 'Very Low (IDR Rp10,000‚Äì20,000)' }
                ],
                hotelAffordability: `Accommodation ranges from homestays to luxury resorts at a fraction of Western prices.`,
                relativeCostIndex: 0.324,
                safetyTips: [
                    'Respect local customs; dress modestly when visiting mosques and temples.',
                    'Be aware of strong currents when swimming at beaches.',
                    'Carry cash in small denominations; credit cards are not widely accepted in rural areas.'
                ],
                phrases: {
                    'Hello': 'Halo',
                    'Thank you': 'Terima kasih',
                    'Please': 'Tolong'
                },
                emergencyContacts: [
                    { name: 'All Emergencies', number: '112' },
                    { name: 'Police', number: '110' },
                    { name: 'Ambulance', number: '118' },
                    { name: 'Fire', number: '113' }
                ],
                timeZoneId: 'Asia/Jakarta',
                currencyCode: 'IDR'
            },
            'Morocco': {
                history: `Morocco‚Äôs history blends Berber, Arab and European influences. It was a French protectorate until 1956 and is known for its medinas and desert landscapes.`,
                attractions: ['Jemaa el-Fnaa', 'Chefchaouen Blue Streets', 'Sahara Desert'],
                foodsIntro: `Moroccan cuisine features aromatic spices, couscous, tagines and mint tea. Meals are inexpensive outside tourist restaurants.`,
                foods: [
                    { name: 'Tagine', description: 'Slow-cooked stew of meat and vegetables with spices, named after the earthenware pot', affordability: 'Low (MAD 30‚Äì60)' },
                    { name: 'Couscous', description: 'Steamed semolina grains topped with vegetables, chickpeas and meat', affordability: 'Low (MAD 30‚Äì50)' },
                    { name: 'Pastilla', description: 'Savory-sweet pie with layers of thin pastry, pigeon or chicken, almonds and powdered sugar', affordability: 'Medium (MAD 50‚Äì80)' }
                ],
                hotelAffordability: `Riads (traditional houses with courtyards) and guesthouses are affordable; luxury hotels cost less than their European equivalents.`,
                relativeCostIndex: 0.406,
                safetyTips: [
                    'Respect local dress codes, particularly in rural areas.',
                    'Bargain politely in souks; haggling is expected.',
                    'Beware of unofficial guides offering tours; use licensed guides.'
                ],
                phrases: {
                    'Hello': 'Salam',
                    'Thank you': 'Shukran',
                    'Please': 'Min fadlak'
                },
                emergencyContacts: [
                    { name: 'All Emergencies', number: '190' },
                    { name: 'Police', number: '190' },
                    { name: 'Ambulance', number: '150' },
                    { name: 'Fire', number: '15' }
                ],
                timeZoneId: 'Africa/Casablanca',
                currencyCode: 'MAD'
            },
            'Denmark': {
                history: `Denmark is one of the world‚Äôs oldest monarchies and once ruled over a North Atlantic empire. Today it is known for its welfare state and design heritage.`,
                attractions: ['Nyhavn', 'Tivoli Gardens', 'Kronborg Castle'],
                foodsIntro: `Danish cuisine features open-faced sandwiches (sm√∏rrebr√∏d), pastries and fresh seafood. Dining out is expensive but bakeries offer inexpensive treats.`,
                foods: [
                    { name: 'Sm√∏rrebr√∏d', description: 'Open-faced rye bread sandwich topped with fish, meats or cheeses', affordability: 'Medium (DKK kr60‚Äì100)' },
                    { name: 'Frikadeller', description: 'Pan-fried meatballs served with potatoes and gravy', affordability: 'Medium (DKK kr80‚Äì140)' },
                    { name: 'Danish Pastry (Wienerbr√∏d)', description: 'Flaky pastry with fillings like custard, almond paste or fruit', affordability: 'Low (DKK kr15‚Äì30 each)' }
                ],
                hotelAffordability: `Accommodation is expensive; hostels and budget hotels provide some savings, but overall costs are high compared to the US.`,
                relativeCostIndex: 1.031,
                safetyTips: [
                    'Cyclists have the right of way; be cautious when walking or driving.',
                    'Tipping is not mandatory; service charges are included in bills.',
                    'Pack layers and waterproof clothing ‚Äì weather can change quickly.'
                ],
                phrases: {
                    'Hello': 'Hej',
                    'Thank you': 'Tak',
                    'Please': 'V√¶r s√• venlig'
                },
                emergencyContacts: [
                    { name: 'All Emergencies', number: '112' }
                ],
                timeZoneId: 'Europe/Copenhagen',
                currencyCode: 'DKK'
            },
            'Philippines': {
                history: `The Philippines archipelago was home to numerous indigenous kingdoms before Spanish colonisation in the 16th century. The islands later came under American administration and gained full independence in 1946. Today the country is a vibrant mix of Austronesian, Spanish and American influences.`,
                attractions: ['White Beach', 'El Nido & Coron', 'Chocolate Hills'],
                foodsIntro: `Filipino food blends sweet, sour and savoury flavours. Many dishes are served family‚Äëstyle, and street food is both tasty and inexpensive.`,
                foods: [
                    { name: 'Adobo', description: 'Meat (often chicken or pork) braised in vinegar, soy sauce, garlic and bay leaves', affordability: 'Very Low (PHP ‚Ç±80‚Äì150 per serving)' },
                    { name: 'Sinigang', description: 'Tamarind‚Äëbased sour soup with pork, seafood or shrimp and assorted vegetables', affordability: 'Low (PHP ‚Ç±80‚Äì150 per bowl)' },
                    { name: 'Halo‚ÄëHalo', description: 'Crushed ice dessert layered with sweetened beans, fruits, jellies and topped with leche flan', affordability: 'Low (PHP ‚Ç±50‚Äì100 per cup)' }
                ],
                hotelAffordability: `Accommodation ranges from backpacker hostels to beach resorts, with prices significantly lower than in the US. Rural homestays and mid‚Äërange hotels provide excellent value.`,
                relativeCostIndex: 0.362,
                safetyTips: [
                    'Be mindful of weather advisories; typhoons can affect travel plans.',
                    'Avoid displaying valuables in crowded areas and use hotel safes.',
                    'Use registered taxis or ride‚Äëhailing apps rather than unmarked vehicles.',
                    'Check the latest travel advisories when venturing to remote islands.'
                ],
                phrases: {
                    'Hello': 'Kumusta',
                    'Thank you': 'Salamat',
                    'Please': 'Paki'
                },
                emergencyContacts: [
                    { name: 'All Emergencies', number: '911' }
                ],
                timeZoneId: 'Asia/Manila',
                currencyCode: 'PHP'
            },
            'Singapore': {
                history: `Strategically located along maritime trade routes, Singapore grew from a Malay fishing village to a British trading post in 1819. After a brief merger with Malaysia, it became a fully independent republic in 1965. Today it is a global hub for finance, trade and tourism.`,
                attractions: ['Gardens by the Bay', 'Orchard Road', 'Singapore Zoo'],
                foodsIntro: `Singaporean cuisine reflects its multicultural population. Hawker centres serve affordable dishes from Chinese, Malay and Indian traditions ‚Äì with Hainanese chicken rice widely regarded as a national dish.`,
                foods: [
                    { name: 'Hainanese Chicken Rice', description: 'Poached chicken served with fragrant rice and chilli sauce; considered Singapore‚Äôs national dish', affordability: 'Low (SGD $3‚Äì6 per plate)' },
                    { name: 'Chilli Crab', description: 'Crab simmered in a tangy, spicy tomato‚Äëchilli sauce, best enjoyed with mantou buns', affordability: 'Medium (SGD $20‚Äì40 per crab)' },
                    { name: 'Laksa', description: 'Spicy coconut curry noodle soup topped with prawns or chicken', affordability: 'Low‚ÄìMedium (SGD $4‚Äì8 per bowl)' }
                ],
                hotelAffordability: `Accommodation ranges from capsule hostels to world‚Äëclass hotels. Prices in the downtown core are comparable to major US cities, while suburban options and hostels are more budget‚Äëfriendly.`,
                relativeCostIndex: 0.78,
                safetyTips: [
                    'Observe strict anti‚Äëlittering and anti‚Äëvandalism laws ‚Äì fines are steep.',
                    'Chewing gum sales are restricted; dispose of gum properly if you bring your own.',
                    ' jaywalking and smoking outside designated areas can result in fines.',
                    'Tap water is safe to drink; refill a reusable bottle to stay hydrated in the tropical heat.'
                ],
                phrases: {
                    'Hello': 'Hello',
                    'Thank you': 'Xie xie / Terima kasih',
                    'Please': 'Q«êng / Sila'
                },
                emergencyContacts: [
                    { name: 'Police', number: '999' },
                    { name: 'Ambulance & Fire', number: '995' }
                ],
                timeZoneId: 'Asia/Singapore',
                currencyCode: 'SGD'
            },
            'Tanzania': {
                history: `Tanzania‚Äôs lands include some of the earliest human archaeological sites. German and later British colonial rule shaped modern Tanganyika and Zanzibar, which merged to form Tanzania in 1964. It is renowned for its wildlife and Swahili culture.`,
                attractions: ['Serengeti National Park', 'Mount Kilimanjaro', 'Stone Town'],
                foodsIntro: `Traditional Tanzanian cuisine relies on maize, millet, beans and meat. Dishes are simple and filling, with ugali being a staple accompaniment.`,
                foods: [
                    { name: 'Ugali', description: 'Stiff porridge made from maize flour; eaten with stews or grilled meat', affordability: 'Very Low (TZS 1,000‚Äì2,000 per serving)' },
                    { name: 'Nyama Choma', description: 'Grilled meat (usually goat or beef) served with kachumbari (tomato and onion salad)', affordability: 'Low (TZS 3,000‚Äì7,000 per plate)' },
                    { name: 'Pilau', description: 'Fragrant rice cooked with spices like cardamom, cinnamon and cloves, often served at celebrations', affordability: 'Low (TZS 2,000‚Äì4,000 per plate)' }
                ],
                hotelAffordability: `Lodges around safari parks and beach resorts can be expensive, but guesthouses and city hotels are much cheaper than in the US.`,
                relativeCostIndex: 0.251,
                safetyTips: [
                    'Drink bottled or boiled water; avoid ice in drinks outside major hotels.',
                    'Ask permission before photographing people, particularly the Maasai.',
                    'Use mosquito nets and repellents to prevent malaria.',
                    'Take precautions when on safari: stay in vehicles and follow your guide‚Äôs instructions.'
                ],
                phrases: {
                    'Hello': 'Jambo',
                    'Thank you': 'Asante',
                    'Please': 'Tafadhali'
                },
                emergencyContacts: [
                    { name: 'General/ Ambulance', number: '112' },
                    { name: 'Ambulance', number: '114' },
                    { name: 'Fire', number: '115' },
                    { name: 'Police', number: '999' },
                    { name: 'Health Call Centre', number: '199' }
                ],
                timeZoneId: 'Africa/Dar_es_Salaam',
                currencyCode: 'TZS'
            },
            'New Zealand': {
                history: `Polynesian settlers arrived in New Zealand around the 13th century. The islands were later colonised by Britain and gained full sovereignty in 1947. Today it is known for its MƒÅori culture and natural beauty.`,
                attractions: ['Milford Sound, Fiordland', 'Hobbiton Movie Set', 'Tongariro National Park'],
                foodsIntro: `New Zealand cuisine uses fresh local produce, lamb, seafood and influences from MƒÅori cooking. Dining out ranges from casual fish and chips to fine dining.`,
                foods: [
                    { name: 'Fish and Chips', description: 'Deep-fried fish with thick-cut chips often served with lemon and tartar sauce', affordability: 'Low (NZD $8‚Äì15)' },
                    { name: 'HƒÅngi', description: 'Traditional MƒÅori feast of meat and vegetables slow-cooked in an earth oven', affordability: 'Medium (NZD $20‚Äì40 per meal)' },
                    { name: 'Pavlova', description: 'Meringue dessert topped with whipped cream and fresh fruit', affordability: 'Low (NZD $5‚Äì8 per slice)' }
                ],
                hotelAffordability: `Accommodation costs are moderate; holiday parks and hostels offer budget options while lodges in remote areas can be pricey.`,
                relativeCostIndex: 0.899,
                safetyTips: [
                    'Weather can be unpredictable; pack clothing for all seasons.',
                    'Sandflies can be bothersome in certain areas ‚Äì bring repellent.',
                    'Driving is on the left-hand side; road conditions can vary in rural regions.'
                ],
                phrases: {
                    'Hello': 'Kia ora',
                    'Thank you': 'NgƒÅ mihi / Thank you',
                    'Please': 'TƒìnƒÅ'
                },
                emergencyContacts: [
                    { name: 'All Emergencies', number: '111' }
                ],
                timeZoneId: 'Pacific/Auckland',
                currencyCode: 'NZD'
            },
            'Vietnam': {
                history: `Vietnam‚Äôs roots date back to the Van Lang kingdom in the 7th century‚ÄØBC. The region endured more than a millennium of Chinese domination until the decisive B·∫°ch¬†ƒê·∫±ng victory in 938 opened an era of independent dynasties. French colonial rule followed in the 19th¬†century, but nationalist movements led by H·ªì¬†Ch√≠¬†Minh culminated in the declaration of independence on 2¬†September¬†1945.`,
                attractions: ['H·∫°¬†Long¬†Bay', 'Hanoi Old Quarter', 'H·ªôi¬†An Ancient Town'],
                foodsIntro: `Vietnamese cuisine is fresh and aromatic. Markets and street stalls sell cheap, hearty dishes; even sit‚Äëdown meals are far cheaper than in most Western countries.`,
                foods: [
                    { name: 'Ph·ªü', description: 'A fragrant noodle soup of broth, rice noodles and herbs ‚Äì Vietnam‚Äôs most iconic dish found on every street.', affordability: 'Very Low (USD¬†$1‚Äì3 per bowl)' },
                    { name: 'B√°nh¬†M√¨', description: 'A crispy baguette sandwich stuffed with meats, p√¢t√© and pickled vegetables ‚Äì eaten any time of day.', affordability: 'Very Low (USD¬†$1‚Äì2 each)' },
                    { name: 'Egg Coffee', description: 'A sweet drink made with egg, condensed milk and coffee, invented in the 1940s.', affordability: 'Low (USD¬†$2‚Äì4 per cup)' }
                ],
                hotelAffordability: `Accommodation in Vietnam is very affordable. Hostels and budget hotels cost a fraction of Western prices, while international chains in major cities offer excellent value.`,
                relativeCostIndex: 0.31,
                safetyTips: [
                    'Keep valuables secure and be wary of pickpockets in busy markets and on motorbikes.',
                    'Cross roads carefully ‚Äì traffic is chaotic and drivers rarely stop for pedestrians.',
                    'Dress modestly and remove shoes when visiting temples or homes.',
                    'Check weather forecasts during the rainy season (May‚ÄìNovember) and heed typhoon warnings.'
                ],
                phrases: {
                    'Hello': 'Xin ch√†o',
                    'Thank you': 'C·∫£m ∆°n',
                    'Please': 'L√†m ∆°n'
                },
                emergencyContacts: [
                    { name: 'Police', number: '113' },
                    { name: 'Fire', number: '114' },
                    { name: 'Ambulance', number: '115' },
                    { name: 'Search and Rescue', number: '112' }
                ],
                timeZoneId: 'Asia/Ho_Chi_Minh',
                currencyCode: 'VND'
            },
            'Argentina': {
                history: `Spanish colonists established settlements in what is now Argentina during the 16th¬†century. Local patriots led by Manuel¬†Belgrano, Juan¬†Jos√©¬†Castelli and Jos√©¬†de¬†San¬†Mart√≠n fought royalist forces during the Argentine War of Independence (1810‚Äì1818). On 9¬†July¬†1816 an assembly in San¬†Miguel¬†de¬†Tucum√°n declared complete independence from Spain.`,
                attractions: ['Iguaz√∫¬†Falls', 'Buenos¬†Aires', 'Perito¬†Moreno Glacier'],
                foodsIntro: `Argentine cuisine revolves around grilled meats and fresh pastries. Dining out is generally inexpensive compared with the US, especially at neighbourhood parrillas (steakhouses).`,
                foods: [
                    { name: 'Asado', description: 'Grilled meats ‚Äì usually beef ribs or steak ‚Äì cooked over an open fire and seasoned with chimichurri sauce.', affordability: 'Medium (ARS¬†$800‚Äì1,800 per platter)' },
                    { name: 'Empanadas', description: 'Pastry pockets filled with meat, cheese or corn, popular at parties and picnics.', affordability: 'Low (ARS¬†$150‚Äì300 each)' },
                    { name: 'Dulce¬†de¬†Leche', description: 'A caramel‚Äëlike sweet paste used to fill cakes or pancakes and served with ice cream.', affordability: 'Very Low (ARS¬†$50‚Äì100 per portion)' }
                ],
                hotelAffordability: `Hotels and guesthouses in Argentina offer good value. Boutique B&Bs in Buenos¬†Aires and rural estancias can be very affordable; luxury lodges in Patagonia are pricier.`,
                relativeCostIndex: 0.278,
                safetyTips: [
                    'Be aware of pickpockets in busy areas of Buenos¬†Aires and other cities.',
                    'Use radio taxis or ride‚Äëhailing apps rather than hailing taxis on the street.',
                    'Avoid demonstrations and large political gatherings.',
                    'Carry small change and keep valuables in a hotel safe.'
                ],
                phrases: {
                    'Hello': 'Hola',
                    'Thank you': 'Gracias',
                    'Please': 'Por favor'
                },
                emergencyContacts: [
                    { name: 'Ambulance', number: '107' },
                    { name: 'Fire', number: '100' },
                    { name: 'Police', number: '911 / 101' }
                ],
                timeZoneId: 'America/Argentina/Buenos_Aires',
                currencyCode: 'ARS'
            },
            // --- Added Sweden entry ---
            'Sweden': {
                history: `Sweden‚Äôs story stretches from Viking voyages and medieval kingdoms to a unified nation under Gustav¬†Vasa in 1523. During the 17th century it was a European great power, but today it‚Äôs known for neutrality, innovation and a strong social welfare system.`,
                attractions: ['Gamla¬†Stan (Stockholm Old Town)', 'Abisko National Park', 'Icehotel Jukkasj√§rvi'],
                foodsIntro: `Swedish cuisine blends rustic flavours and sweet treats. Look out for comforting meatballs, pickled fish and fragrant baked goods.`,
                foods: [
                    { name: 'K√∂ttbullar', description: 'Classic Swedish meatballs seasoned with spices and served with lingonberry jam and creamy gravy.', affordability: 'Medium (USD¬†$12‚Äì20 per plate)' },
                    { name: 'Inlagd Sill', description: 'Pickled herring cured in a sweet‚Äìsavory brine, traditionally served with potatoes and crispbread.', affordability: 'Low‚ÄìMedium (USD¬†$6‚Äì10 per serving)' },
                    { name: 'Kanelbulle', description: 'A soft cinnamon bun swirled with butter and cardamom, perfect with coffee.', affordability: 'Low (USD¬†$2‚Äì4 per bun)' }
                ],
                hotelAffordability: `Hotels in Stockholm and Gothenburg can be comparable to or slightly higher than mid‚Äërange US prices; smaller towns offer more affordable options and hostels are plentiful.`,
                relativeCostIndex: 0.61,
                safetyTips: [
                    'Beware of pickpockets in busy tourist areas and on public transport.',
                    'Take care when driving in winter ‚Äî roads may be icy and daylight hours are short.',
                    'Respect personal space and queue politely; Swedes value calm and order.',
                    'Enjoy nature responsibly: follow local guidelines for campfires, litter and wildlife.'
                ],
                phrases: {
                    'Hello': 'Hej',
                    'Thank you': 'Tack',
                    'Please': 'Sn√§lla'
                },
                emergencyContacts: [
                    { name: 'All Emergencies', number: '112' }
                ],
                timeZoneId: 'Europe/Stockholm',
                currencyCode: 'SEK'
            },
            // --- Added Egypt entry ---
            'Egypt': {
                history: `Egypt is the cradle of one of the world‚Äôs oldest civilisations. Ancient Egyptians built the pyramids over 4,500¬†years ago, later empires of Greeks, Romans, Arabs and Ottomans left their mark, and modern Egypt gained independence in the 20th century.`,
                attractions: ['Pyramids of Giza', 'Valley of the Kings (Luxor)', 'Egyptian Museum (Cairo)'],
                foodsIntro: `Egyptian food is hearty and often vegetarian friendly. Street stalls serve delicious mixed‚Äëgrain bowls and slow‚Äëcooked beans alongside rich stews and breads.`,
                foods: [
                    { name: 'Koshary', description: 'A comforting mix of pasta, rice, lentils and chickpeas topped with spicy tomato sauce and crispy onions.', affordability: 'Very Low (USD¬†$2‚Äì5 per bowl)' },
                    { name: 'Ful¬†Medames', description: 'Mashed fava beans simmered with garlic, cumin and lemon, usually eaten with bread for breakfast.', affordability: 'Very Low (USD¬†$1‚Äì3 per portion)' },
                    { name: 'Ta‚Äôamiya', description: 'Egyptian falafel made from fava beans rather than chickpeas, deep‚Äëfried and served in pita with salad.', affordability: 'Low‚ÄìMedium (USD¬†$3‚Äì6 per serving)' }
                ],
                hotelAffordability: `Accommodation in Egypt is generally budget friendly; hotels in Cairo and Luxor are inexpensive compared with US standards, while Red Sea resorts and Nile cruises are pricier.`,
                relativeCostIndex: 0.22,
                safetyTips: [
                    'Stay hydrated and protect yourself from the desert sun with hats, sunglasses and sunscreen.',
                    'Dress modestly, particularly when visiting mosques and rural areas.',
                    'Be alert for scams and overly insistent vendors at tourist sites.',
                    'Drink bottled or treated water to avoid stomach upsets.'
                ],
                phrases: {
                    'Hello': 'Salaam alaikum',
                    'Thank you': 'Shukran',
                    'Please': 'Min fadlak'
                },
                emergencyContacts: [
                    { name: 'Police', number: '122' },
                    { name: 'Ambulance', number: '123' },
                    { name: 'Fire', number: '180' }
                ],
                timeZoneId: 'Africa/Cairo',
                currencyCode: 'EGP'
            },
            // --- Added South Africa entry ---
            'South Africa': {
                history: `South Africa‚Äôs past encompasses ancient Khoisan cultures, European colonisation and the discovery of diamonds and gold. The apartheid era of racial segregation ended in 1994 when Nelson Mandela became the country‚Äôs first black president.`,
                attractions: ['Table Mountain', 'Kruger National Park', 'Cape of Good Hope'],
                foodsIntro: `South African cuisine reflects indigenous traditions and immigrant influences. Expect spicy stews, street food served in bread and smoky barbecues (braai).`,
                foods: [
                    { name: 'Bobotie', description: 'A fragrant spiced mince dish baked with an egg custard topping and a hint of sweetness from fruit or chutney.', affordability: 'Low‚ÄìMedium (USD¬†$6‚Äì12 per serving)' },
                    { name: 'Bunny¬†Chow', description: 'A hollowed‚Äëout loaf of bread filled with curry¬†‚Äî Durban‚Äôs iconic street food.', affordability: 'Very Low‚ÄìLow (USD¬†$2‚Äì5 per portion)' },
                    { name: 'Braai', description: 'South African barbecue featuring assorted meats grilled over wood or charcoal and served with salads and pap.', affordability: 'Medium (USD¬†$8‚Äì15 per person)' }
                ],
                hotelAffordability: `Accommodation ranges from budget guesthouses and city hotels to luxury safari lodges; prices are generally lower than in the US but rise in peak season.`,
                relativeCostIndex: 0.35,
                safetyTips: [
                    'Be aware of your surroundings and avoid displaying valuables in city centres.',
                    'Use reputable operators for safaris and follow guide instructions around wildlife.',
                    'Check weather and local advisories before hiking or visiting coastal areas.',
                    'Don‚Äôt walk alone at night in unfamiliar areas and always lock your vehicle.'
                ],
                phrases: {
                    'Hello': 'Sawubona',
                    'Thank you': 'Ngiyabonga',
                    'Please': 'Asseblief'
                },
                emergencyContacts: [
                    { name: 'All Emergencies (mobile)', number: '112' },
                    { name: 'Ambulance & Fire', number: '10177' },
                    { name: 'Police', number: '10111' }
                ],
                timeZoneId: 'Africa/Johannesburg',
                currencyCode: 'ZAR'
            }
        };

        // Major public or widely celebrated holidays for each featured country.  These lists
        // contain only a handful of official or significant holidays and are not exhaustive.
        // Dates use the YYYY-MM-DD format.  When new countries are added to the dropdown
        // menu, add their key to this object along with holiday dates and names.  Note: some
        // holidays (e.g., Lunar New Year) change dates each year; the dates provided here
        // correspond to the 2025 calendar year for demonstration purposes.
        const countryHolidays = {
            'Australia': [
                { date: '2025-01-01', name: 'New Year‚Äôs Day' },
                { date: '2025-01-26', name: 'Australia Day' },
                { date: '2025-04-25', name: 'Anzac Day' },
                { date: '2025-12-25', name: 'Christmas Day' }
                ,
                { date: '2025-06-09', name: 'King‚Äôs Birthday' }
            ],
            'Austria': [
                { date: '2025-01-01', name: 'New Year‚Äôs Day' },
                { date: '2025-04-21', name: 'Easter Monday' },
                { date: '2025-10-26', name: 'National Day' },
                { date: '2025-12-25', name: 'Christmas Day' }
                ,
                { date: '2025-12-26', name: 'St. Stephen‚Äôs Day' }
            ],
            'Colombia': [
                { date: '2025-01-01', name: 'New Year‚Äôs Day' },
                { date: '2025-07-20', name: 'Independence Day' },
                { date: '2025-08-07', name: 'Battle of Boyac√° Day' },
                { date: '2025-12-08', name: 'Immaculate Conception Day' }
                ,
                { date: '2025-12-25', name: 'Christmas Day' }
            ],
            'France': [
                { date: '2025-01-01', name: 'New Year‚Äôs Day' },
                { date: '2025-05-01', name: 'Labour Day' },
                { date: '2025-07-14', name: 'Bastille Day' },
                { date: '2025-12-25', name: 'Christmas Day' }
                ,
                { date: '2025-11-11', name: 'Armistice Day' }
            ],
            'Spain': [
                { date: '2025-01-01', name: 'New Year‚Äôs Day' },
                { date: '2025-10-12', name: 'National Day' },
                { date: '2025-08-15', name: 'Assumption Day' },
                { date: '2025-12-25', name: 'Christmas Day' }
                ,
                { date: '2025-05-01', name: 'Labour Day' }
            ],
            'United States': [
                { date: '2025-01-01', name: 'New Year‚Äôs Day' },
                { date: '2025-07-04', name: 'Independence Day' },
                { date: '2025-11-27', name: 'Thanksgiving Day' },
                { date: '2025-12-25', name: 'Christmas Day' }
                ,
                { date: '2025-05-26', name: 'Memorial Day' }
            ],
            'China': [
                { date: '2025-01-01', name: 'New Year‚Äôs Day' },
                { date: '2025-01-29', name: 'Spring Festival (Chinese New Year)' },
                { date: '2025-05-01', name: 'Labour Day' },
                { date: '2025-10-01', name: 'National Day' }
                ,
                { date: '2025-09-07', name: 'Mid-Autumn Festival' }
            ],
            'Italy': [
                { date: '2025-01-01', name: 'New Year‚Äôs Day' },
                { date: '2025-04-25', name: 'Liberation Day' },
                { date: '2025-08-15', name: 'Ferragosto (Assumption Day)' },
                { date: '2025-12-25', name: 'Christmas Day' }
                ,
                { date: '2025-01-06', name: 'Epiphany' }
            ],
            'Turkey': [
                { date: '2025-04-23', name: 'National Sovereignty & Children‚Äôs Day' },
                { date: '2025-08-30', name: 'Victory Day' },
                { date: '2025-10-29', name: 'Republic Day' }
                ,
                { date: '2025-05-01', name: 'Labour and Solidarity Day' }
                ,
                { date: '2025-05-19', name: 'Youth and Sports Day' }
            ],
            'Mexico': [
                { date: '2025-09-16', name: 'Independence Day' },
                { date: '2025-11-02', name: 'Day of the Dead' },
                { date: '2025-11-20', name: 'Revolution Day' }
                ,
                { date: '2025-01-01', name: 'New Year‚Äôs Day' }
                ,
                { date: '2025-12-25', name: 'Christmas Day' }
            ],
            'Thailand': [
                { date: '2025-04-13', name: 'Songkran (Thai New Year)' },
                { date: '2025-07-28', name: 'King‚Äôs Birthday' },
                { date: '2025-08-12', name: 'Queen‚Äôs Birthday' }
                ,
                { date: '2025-02-12', name: 'Makha Bucha Day' }
                ,
                { date: '2025-07-15', name: 'Asalha Puja Day' }
            ],
            'Germany': [
                { date: '2025-01-01', name: 'New Year‚Äôs Day' },
                { date: '2025-05-01', name: 'Labour Day' },
                { date: '2025-10-03', name: 'German Unity Day' },
                { date: '2025-12-25', name: 'Christmas Day' }
                ,
                { date: '2025-04-21', name: 'Easter Monday' }
            ],
            'United Kingdom': [
                { date: '2025-01-01', name: 'New Year‚Äôs Day' },
                { date: '2025-05-05', name: 'Early May Bank Holiday' },
                { date: '2025-08-25', name: 'Summer Bank Holiday' },
                { date: '2025-12-25', name: 'Christmas Day' }
                ,
                { date: '2025-04-18', name: 'Good Friday' }
            ],
            'Japan': [
                { date: '2025-01-01', name: 'New Year‚Äôs Day' },
                { date: '2025-04-29', name: 'Showa Day' },
                { date: '2025-05-03', name: 'Constitution Memorial Day' },
                { date: '2025-02-23', name: 'Emperor‚Äôs Birthday' }
                ,
                { date: '2025-05-05', name: 'Children‚Äôs Day' }
            ],
            'Greece': [
                { date: '2025-03-25', name: 'Independence Day' },
                { date: '2025-10-28', name: 'Ochi Day' },
                { date: '2025-08-15', name: 'Assumption Day' }
                ,
                { date: '2025-05-01', name: 'Labour Day' }
                ,
                { date: '2025-11-17', name: 'Polytechnio Day' }
            ],
            'Malaysia': [
                { date: '2025-02-01', name: 'Federal Territory Day' },
                { date: '2025-05-01', name: 'Labour Day' },
                { date: '2025-08-31', name: 'Independence Day' }
                ,
                { date: '2025-03-30', name: 'Hari Raya Puasa' }
                ,
                { date: '2025-10-29', name: 'Deepavali' }
            ],
            'Portugal': [
                { date: '2025-04-25', name: 'Freedom Day' },
                { date: '2025-06-10', name: 'Portugal Day' },
                { date: '2025-12-25', name: 'Christmas Day' }
                ,
                { date: '2025-08-15', name: 'Assumption Day' }
                ,
                { date: '2025-10-05', name: 'Republic Day' }
            ],
            'Canada': [
                { date: '2025-07-01', name: 'Canada Day' },
                { date: '2025-10-13', name: 'Thanksgiving (Canada)' },
                { date: '2025-12-25', name: 'Christmas Day' }
                ,
                { date: '2025-01-01', name: 'New Year‚Äôs Day' }
                ,
                { date: '2025-11-11', name: 'Remembrance Day' }
            ],
            'South Korea': [
                { date: '2025-03-01', name: 'Independence Movement Day' },
                { date: '2025-08-15', name: 'Liberation Day' },
                { date: '2025-10-03', name: 'National Foundation Day' }
                ,
                { date: '2025-01-29', name: 'Lunar New Year' }
                ,
                { date: '2025-09-08', name: 'Chuseok (Harvest Festival)' }
            ],
            'Hong Kong': [
                { date: '2025-01-31', name: 'Lunar New Year' },
                { date: '2025-07-01', name: 'HKSAR Establishment Day' },
                { date: '2025-10-01', name: 'National Day' }
                ,
                { date: '2025-04-04', name: 'Ching Ming Festival' }
                ,
                { date: '2025-06-02', name: 'Dragon Boat Festival' }
            ],
            'Netherlands': [
                { date: '2025-04-27', name: 'King‚Äôs Day' },
                { date: '2025-05-05', name: 'Liberation Day' },
                { date: '2025-12-05', name: 'Sinterklaas' }
                ,
                { date: '2025-05-29', name: 'Ascension Day' }
                ,
                { date: '2025-01-01', name: 'New Year‚Äôs Day' }
            ],
            'Saudi Arabia': [
                { date: '2025-04-10', name: 'Eid al-Fitr' },
                { date: '2025-06-16', name: 'Eid al-Adha' },
                { date: '2025-09-23', name: 'National Day' }
                ,
                { date: '2025-02-22', name: 'Founding Day' }
                ,
                { date: '2025-06-15', name: 'Arafat Day' }
            ],
            'Poland': [
                { date: '2025-05-03', name: 'Constitution Day' },
                { date: '2025-11-11', name: 'Independence Day' },
                { date: '2025-12-25', name: 'Christmas Day' }
                ,
                { date: '2025-05-01', name: 'Labour Day' }
                ,
                { date: '2025-08-15', name: 'Assumption Day' }
            ],
            'Hungary': [
                { date: '2025-03-15', name: 'National Day' },
                { date: '2025-08-20', name: 'St. Stephen‚Äôs Day' },
                { date: '2025-10-23', name: 'Revolution Day' }
                ,
                { date: '2025-05-01', name: 'Labour Day' }
                ,
                { date: '2025-04-21', name: 'Easter Monday' }
            ],
            'India': [
                { date: '2025-01-26', name: 'Republic Day' },
                { date: '2025-08-15', name: 'Independence Day' },
                { date: '2025-10-02', name: 'Gandhi Jayanti' }
                ,
                { date: '2025-03-13', name: 'Holi' }
                ,
                { date: '2025-10-20', name: 'Diwali' }
            ],
            'Switzerland': [
                { date: '2025-01-01', name: 'New Year‚Äôs Day' },
                { date: '2025-08-01', name: 'Swiss National Day' },
                { date: '2025-12-25', name: 'Christmas Day' }
                ,
                { date: '2025-04-21', name: 'Easter Monday' }
                ,
                { date: '2025-01-02', name: 'Berchtold‚Äôs Day' }
            ],
            'Croatia': [
                { date: '2025-06-25', name: 'Statehood Day' },
                { date: '2025-08-05', name: 'Victory and Homeland Thanksgiving Day' },
                { date: '2025-12-25', name: 'Christmas Day' }
                ,
                { date: '2025-05-01', name: 'Labour Day' }
                ,
                { date: '2025-10-08', name: 'Independence Day' }
            ],
            'Indonesia': [
                { date: '2025-01-01', name: 'New Year‚Äôs Day' },
                { date: '2025-08-17', name: 'Independence Day' },
                { date: '2025-03-29', name: 'Nyepi (Day of Silence)' }
                ,
                { date: '2025-04-10', name: 'Eid al-Fitr' }
                ,
                { date: '2025-12-25', name: 'Christmas Day' }
            ],
            'Morocco': [
                { date: '2025-07-30', name: 'Throne Day' },
                { date: '2025-11-18', name: 'Independence Day' },
                { date: '2025-05-01', name: 'Labour Day' }
                ,
                { date: '2025-04-10', name: 'Eid al-Fitr' }
                ,
                { date: '2025-06-16', name: 'Eid al-Adha' }
            ],
            'Denmark': [
                { date: '2025-04-16', name: 'Queen‚Äôs Birthday' },
                { date: '2025-06-05', name: 'Constitution Day' },
                { date: '2025-06-23', name: 'Midsummer‚Äôs Eve' }
                ,
                { date: '2025-05-01', name: 'Labour Day' }
                ,
                { date: '2025-12-25', name: 'Christmas Day' }
            ],
            'New Zealand': [
                { date: '2025-02-06', name: 'Waitangi Day' },
                { date: '2025-04-25', name: 'ANZAC Day' },
                { date: '2025-06-02', name: 'King‚Äôs Birthday' }
                ,
                { date: '2025-10-27', name: 'Labour Day' }
                ,
                { date: '2025-12-25', name: 'Christmas Day' }
            ],
            'Vietnam': [
                { date: '2025-02-29', name: 'Tet Nguyen Dan (Lunar New Year)' },
                { date: '2025-04-30', name: 'Reunification Day' },
                { date: '2025-09-02', name: 'National Day' }
                ,
                { date: '2025-04-06', name: 'Hung Kings‚Äô Temple Festival' }
                ,
                { date: '2025-09-07', name: 'Mid-Autumn Festival' }
            ],
            'Argentina': [
                { date: '2025-05-25', name: 'Revolution Day' },
                { date: '2025-07-09', name: 'Independence Day' },
                { date: '2025-12-25', name: 'Christmas Day' }
                ,
                { date: '2025-05-01', name: 'Labour Day' }
                ,
                { date: '2025-06-20', name: 'National Flag Day' }
            ],
            'Sweden': [
                { date: '2025-01-01', name: 'New Year‚Äôs Day' },
                { date: '2025-06-06', name: 'National Day' },
                { date: '2025-06-21', name: 'Midsummer‚Äôs Day' },
                { date: '2025-12-25', name: 'Christmas Day' }
                ,
                { date: '2025-01-06', name: 'Epiphany' }
            ],
            'Egypt': [
                { date: '2025-01-07', name: 'Coptic Christmas Day' },
                { date: '2025-01-25', name: 'Revolution Day / National Police Day' },
                { date: '2025-04-25', name: 'Sinai Liberation Day' },
                { date: '2025-07-23', name: 'Revolution Day' },
                { date: '2025-10-06', name: 'Armed Forces Day' }
                ,
                { date: '2025-05-01', name: 'Labour Day' }
            ],
            'South Africa': [
                { date: '2025-01-01', name: 'New Year‚Äôs Day' },
                { date: '2025-04-27', name: 'Freedom Day' },
                { date: '2025-09-24', name: 'Heritage Day' },
                { date: '2025-12-25', name: 'Christmas Day' }
                ,
                { date: '2025-04-18', name: 'Good Friday' }
            ]
        };

        // Override and extend the holiday data for each country based on the 2024 calendar.
        // This approach leaves the original countryHolidays object intact while updating or
        // creating entries as required.  Each list below uses ISO 8601 date strings.
        Object.assign(countryHolidays, {
            'Argentina': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-02-12', name: 'Carnival Monday' },
                { date: '2024-02-13', name: 'Carnival Tuesday' },
                { date: '2024-03-24', name: 'Truth and Justice Memorial Day' },
                { date: '2024-04-02', name: 'Malvinas Day' },
                { date: '2024-05-01', name: 'Labour Day' },
                { date: '2024-05-25', name: 'May Revolution Day' },
                { date: '2024-06-20', name: 'Flag Day' },
                { date: '2024-07-09', name: 'Independence Day' },
                { date: '2024-12-25', name: 'Christmas Day' }
            ],
            'Australia': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-01-26', name: 'Australia Day' },
                { date: '2024-03-29', name: 'Good Friday' },
                { date: '2024-04-01', name: 'Easter Monday' },
                { date: '2024-04-25', name: 'ANZAC Day' },
                { date: '2024-06-10', name: 'King‚Äôs Birthday' },
                { date: '2024-12-25', name: 'Christmas Day' },
                { date: '2024-12-26', name: 'Boxing Day' }
            ],
            'Austria': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-01-06', name: 'Epiphany' },
                { date: '2024-04-01', name: 'Easter Monday' },
                { date: '2024-05-01', name: 'Labour Day' },
                { date: '2024-05-09', name: 'Ascension Day' },
                { date: '2024-05-20', name: 'Whit Monday' },
                { date: '2024-08-15', name: 'Assumption Day' },
                { date: '2024-10-26', name: 'National Day' },
                { date: '2024-12-25', name: 'Christmas Day' },
                { date: '2024-12-26', name: 'St. Stephen‚Äôs Day' }
            ],
            'Canada': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-03-29', name: 'Good Friday' },
                { date: '2024-05-20', name: 'Victoria Day' },
                { date: '2024-07-01', name: 'Canada Day' },
                { date: '2024-09-02', name: 'Labour Day' },
                { date: '2024-10-14', name: 'Thanksgiving' },
                { date: '2024-11-11', name: 'Remembrance Day' },
                { date: '2024-12-25', name: 'Christmas Day' },
                { date: '2024-12-26', name: 'Boxing Day' }
            ],
            'China': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-02-10', name: 'Chinese New Year' },
                { date: '2024-04-04', name: 'Qingming Festival' },
                { date: '2024-05-01', name: 'Labour Day' },
                { date: '2024-06-10', name: 'Dragon Boat Festival' },
                { date: '2024-09-17', name: 'Mid‚ÄëAutumn Festival' },
                { date: '2024-10-01', name: 'National Day' }
            ],
            'Colombia': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-01-08', name: 'Epiphany (observed)' },
                { date: '2024-03-25', name: 'St. Joseph‚Äôs Day (observed)' },
                { date: '2024-03-28', name: 'Maundy Thursday' },
                { date: '2024-03-29', name: 'Good Friday' },
                { date: '2024-05-01', name: 'Labour Day' },
                { date: '2024-05-13', name: 'Ascension Day (observed)' },
                { date: '2024-06-03', name: 'Corpus Christi (observed)' },
                { date: '2024-06-10', name: 'Sacred Heart (observed)' },
                { date: '2024-07-20', name: 'Independence Day' },
                { date: '2024-08-07', name: 'Battle of Boyac√°' },
                { date: '2024-12-08', name: 'Immaculate Conception' },
                { date: '2024-12-25', name: 'Christmas Day' }
            ],
            'Croatia': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-01-06', name: 'Epiphany' },
                { date: '2024-04-01', name: 'Easter Monday' },
                { date: '2024-05-01', name: 'Labour Day' },
                { date: '2024-05-30', name: 'Statehood Day' },
                { date: '2024-06-22', name: 'Anti‚ÄëFascist Struggle Day' },
                { date: '2024-08-05', name: 'Victory and Homeland Thanksgiving Day' },
                { date: '2024-08-15', name: 'Assumption of Mary' },
                { date: '2024-11-01', name: 'All Saints‚Äô Day' },
                { date: '2024-12-25', name: 'Christmas Day' },
                { date: '2024-12-26', name: 'St. Stephen‚Äôs Day' }
            ],
            'Denmark': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-03-28', name: 'Maundy Thursday' },
                { date: '2024-03-29', name: 'Good Friday' },
                { date: '2024-04-01', name: 'Easter Monday' },
                { date: '2024-04-26', name: 'Great Prayer Day' },
                { date: '2024-05-09', name: 'Ascension Day' },
                { date: '2024-05-20', name: 'Whit Monday' },
                { date: '2024-06-05', name: 'Constitution Day' },
                { date: '2024-12-25', name: 'Christmas Day' },
                { date: '2024-12-26', name: 'Boxing Day' }
            ],
            'Egypt': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-01-07', name: 'Coptic Christmas' },
                { date: '2024-01-25', name: 'Revolution Day / National Police Day' },
                { date: '2024-04-10', name: 'Eid al-Fitr' },
                { date: '2024-04-25', name: 'Sinai Liberation Day' },
                { date: '2024-05-01', name: 'Labour Day' },
                { date: '2024-06-16', name: 'Eid al-Adha' },
                { date: '2024-07-07', name: 'Islamic New Year' },
                { date: '2024-07-23', name: 'Revolution Day' },
                { date: '2024-09-15', name: 'Prophet Muhammad‚Äôs Birthday' },
                { date: '2024-10-06', name: 'Armed Forces Day' }
            ],
            'Finland': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-01-06', name: 'Epiphany' },
                { date: '2024-03-29', name: 'Good Friday' },
                { date: '2024-03-31', name: 'Easter Sunday' },
                { date: '2024-04-01', name: 'Easter Monday' },
                { date: '2024-05-01', name: 'May Day / Vappu' },
                { date: '2024-05-09', name: 'Ascension Day' },
                { date: '2024-06-21', name: 'Midsummer Eve' },
                { date: '2024-06-22', name: 'Midsummer Day' },
                { date: '2024-11-02', name: 'All Saints‚Äô Day' },
                { date: '2024-12-06', name: 'Independence Day' },
                { date: '2024-12-24', name: 'Christmas Eve' },
                { date: '2024-12-25', name: 'Christmas Day' },
                { date: '2024-12-26', name: 'Boxing Day' }
            ],
            'France': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-04-01', name: 'Easter Monday' },
                { date: '2024-05-01', name: 'Labour Day' },
                { date: '2024-05-08', name: 'Victory in Europe Day' },
                { date: '2024-05-09', name: 'Ascension Day' },
                { date: '2024-05-20', name: 'Whit Monday' },
                { date: '2024-07-14', name: 'Bastille Day' },
                { date: '2024-08-15', name: 'Assumption of Mary' },
                { date: '2024-11-01', name: 'All Saints‚Äô Day' },
                { date: '2024-11-11', name: 'Armistice Day' },
                { date: '2024-12-25', name: 'Christmas Day' }
            ],
            'Germany': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-03-29', name: 'Good Friday' },
                { date: '2024-04-01', name: 'Easter Monday' },
                { date: '2024-05-01', name: 'Labour Day' },
                { date: '2024-05-09', name: 'Ascension Day' },
                { date: '2024-05-20', name: 'Whit Monday' },
                { date: '2024-10-03', name: 'Day of German Unity' },
                { date: '2024-12-25', name: 'Christmas Day' },
                { date: '2024-12-26', name: 'St. Stephen‚Äôs Day' }
            ],
            'Greece': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-01-06', name: 'Epiphany' },
                { date: '2024-03-18', name: 'Clean Monday' },
                { date: '2024-03-25', name: 'Independence Day' },
                { date: '2024-05-03', name: 'Good Friday' },
                { date: '2024-05-06', name: 'Easter Monday' },
                { date: '2024-05-01', name: 'Labour Day' },
                { date: '2024-08-15', name: 'Assumption of Mary' },
                { date: '2024-10-28', name: 'Ochi Day' },
                { date: '2024-12-25', name: 'Christmas Day' },
                { date: '2024-12-26', name: 'Boxing Day' }
            ],
            'Hong Kong': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-02-10', name: 'Lunar New Year (Day 1)' },
                { date: '2024-02-11', name: 'Lunar New Year (Day 2)' },
                { date: '2024-02-12', name: 'Lunar New Year (Day 3)' },
                { date: '2024-03-29', name: 'Good Friday' },
                { date: '2024-04-01', name: 'Easter Monday' },
                { date: '2024-04-04', name: 'Ching Ming Festival' },
                { date: '2024-05-01', name: 'Labour Day' },
                { date: '2024-05-15', name: 'Buddha‚Äôs Birthday' },
                { date: '2024-06-10', name: 'Dragon Boat Festival' },
                { date: '2024-07-01', name: 'Hong Kong SAR Establishment Day' },
                { date: '2024-09-18', name: 'Mid‚ÄëAutumn Festival' },
                { date: '2024-10-01', name: 'National Day' },
                { date: '2024-10-11', name: 'Chung Yeung Festival' },
                { date: '2024-12-25', name: 'Christmas Day' },
                { date: '2024-12-26', name: 'Boxing Day' }
            ],
            'Hungary': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-03-15', name: '1848 Revolution Memorial Day' },
                { date: '2024-03-29', name: 'Good Friday' },
                { date: '2024-04-01', name: 'Easter Monday' },
                { date: '2024-05-01', name: 'Labour Day' },
                { date: '2024-05-20', name: 'Pentecost Monday' },
                { date: '2024-08-20', name: 'St. Stephen‚Äôs Day' },
                { date: '2024-10-23', name: '1956 Revolution Memorial Day' },
                { date: '2024-11-01', name: 'All Saints‚Äô Day' },
                { date: '2024-12-25', name: 'Christmas Day' },
                { date: '2024-12-26', name: 'Boxing Day' }
            ],
            'India': [
                { date: '2024-01-26', name: 'Republic Day' },
                { date: '2024-03-08', name: 'Maha Shivaratri' },
                { date: '2024-03-25', name: 'Holi' },
                { date: '2024-04-11', name: 'Eid al-Fitr' },
                { date: '2024-08-15', name: 'Independence Day' },
                { date: '2024-08-26', name: 'Janmashtami' },
                { date: '2024-10-02', name: 'Gandhi Jayanti' },
                { date: '2024-10-12', name: 'Dussehra' },
                { date: '2024-11-01', name: 'Diwali' },
                { date: '2024-11-15', name: 'Guru Nanak Jayanti' },
                { date: '2024-12-25', name: 'Christmas Day' }
            ],
            'Indonesia': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-02-10', name: 'Chinese New Year' },
                { date: '2024-03-11', name: 'Hari Raya Nyepi' },
                { date: '2024-04-10', name: 'Eid al-Fitr' },
                { date: '2024-05-01', name: 'Labour Day' },
                { date: '2024-05-09', name: 'Ascension Day of Jesus Christ' },
                { date: '2024-06-01', name: 'Pancasila Day' },
                { date: '2024-06-17', name: 'Eid al-Adha' },
                { date: '2024-08-17', name: 'Indonesian Independence Day' },
                { date: '2024-09-16', name: 'Prophet Muhammad‚Äôs Birthday' },
                { date: '2024-12-25', name: 'Christmas Day' }
            ],
            'Italy': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-01-06', name: 'Epiphany' },
                { date: '2024-04-01', name: 'Easter Monday' },
                { date: '2024-04-25', name: 'Liberation Day' },
                { date: '2024-05-01', name: 'Labour Day' },
                { date: '2024-06-02', name: 'Republic Day' },
                { date: '2024-08-15', name: 'Assumption of Mary' },
                { date: '2024-11-01', name: 'All Saints‚Äô Day' },
                { date: '2024-12-08', name: 'Immaculate Conception' },
                { date: '2024-12-25', name: 'Christmas Day' },
                { date: '2024-12-26', name: 'St. Stephen‚Äôs Day' }
            ],
            'Japan': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-01-08', name: 'Coming of Age Day' },
                { date: '2024-02-11', name: 'National Foundation Day' },
                { date: '2024-02-23', name: 'Emperor‚Äôs Birthday' },
                { date: '2024-03-20', name: 'Vernal Equinox Day' },
                { date: '2024-04-29', name: 'Showa Day' },
                { date: '2024-05-03', name: 'Constitution Memorial Day' },
                { date: '2024-05-04', name: 'Greenery Day' },
                { date: '2024-05-05', name: 'Children‚Äôs Day' },
                { date: '2024-07-15', name: 'Marine Day' },
                { date: '2024-08-11', name: 'Mountain Day' },
                { date: '2024-09-16', name: 'Respect for the Aged Day' },
                { date: '2024-09-22', name: 'Autumn Equinox Day' },
                { date: '2024-10-14', name: 'Sports Day' },
                { date: '2024-11-03', name: 'Culture Day' },
                { date: '2024-11-23', name: 'Labour Thanksgiving Day' }
            ],
            'Malaysia': [
                { date: '2025-02-01', name: 'Federal Territory Day' },
                { date: '2025-05-01', name: 'Labour Day' },
                { date: '2025-08-31', name: 'Independence Day' },
                { date: '2025-03-30', name: 'Hari Raya Puasa' },
                { date: '2025-10-29', name: 'Deepavali' }
            ],
            'Mexico': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-02-05', name: 'Constitution Day' },
                { date: '2024-03-18', name: 'Benito Ju√°rez‚Äôs Birthday' },
                { date: '2024-03-28', name: 'Maundy Thursday' },
                { date: '2024-03-29', name: 'Good Friday' },
                { date: '2024-05-01', name: 'Labour Day' },
                { date: '2024-09-16', name: 'Independence Day' },
                { date: '2024-11-18', name: 'Revolution Day' },
                { date: '2024-12-25', name: 'Christmas Day' }
            ],
            'Morocco': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-01-11', name: 'Proclamation of Independence' },
                { date: '2024-05-01', name: 'Labour Day' },
                { date: '2024-04-10', name: 'Eid al-Fitr' },
                { date: '2024-06-17', name: 'Eid al-Adha' },
                { date: '2024-07-08', name: 'Islamic New Year' },
                { date: '2024-07-30', name: 'Throne Day' },
                { date: '2024-08-20', name: 'Revolution Day' },
                { date: '2024-09-16', name: 'Prophet Muhammad‚Äôs Birthday' },
                { date: '2024-11-06', name: 'Green March' },
                { date: '2024-11-18', name: 'Independence Day' }
            ],
            'Netherlands': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-03-29', name: 'Good Friday' },
                { date: '2024-03-31', name: 'Easter Sunday' },
                { date: '2024-04-01', name: 'Easter Monday' },
                { date: '2024-04-27', name: 'King‚Äôs Day' },
                { date: '2024-05-05', name: 'Liberation Day' },
                { date: '2024-05-09', name: 'Ascension Day' },
                { date: '2024-05-19', name: 'Whit Sunday' },
                { date: '2024-05-20', name: 'Whit Monday' },
                { date: '2024-12-25', name: 'Christmas Day' },
                { date: '2024-12-26', name: 'Boxing Day' }
            ],
            'New Zealand': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-01-02', name: 'Day after New Year‚Äôs Day' },
                { date: '2024-02-06', name: 'Waitangi Day' },
                { date: '2024-03-29', name: 'Good Friday' },
                { date: '2024-04-01', name: 'Easter Monday' },
                { date: '2024-04-25', name: 'ANZAC Day' },
                { date: '2024-06-03', name: 'King‚Äôs Birthday' },
                { date: '2024-06-28', name: 'Matariki' },
                { date: '2024-10-28', name: 'Labour Day' },
                { date: '2024-12-25', name: 'Christmas Day' },
                { date: '2024-12-26', name: 'Boxing Day' }
            ],
            'Norway': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-03-28', name: 'Maundy Thursday' },
                { date: '2024-03-29', name: 'Good Friday' },
                { date: '2024-03-31', name: 'Easter Sunday' },
                { date: '2024-04-01', name: 'Easter Monday' },
                { date: '2024-05-01', name: 'Labour Day' },
                { date: '2024-05-17', name: 'Constitution Day' },
                { date: '2024-05-09', name: 'Ascension Day' },
                { date: '2024-05-20', name: 'Whit Monday' },
                { date: '2024-12-25', name: 'Christmas Day' },
                { date: '2024-12-26', name: 'Boxing Day' }
            ],
            'Philippines': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-03-28', name: 'Maundy Thursday' },
                { date: '2024-03-29', name: 'Good Friday' },
                { date: '2024-04-09', name: 'Day of Valor' },
                { date: '2024-05-01', name: 'Labour Day' },
                { date: '2024-06-12', name: 'Independence Day' },
                { date: '2024-08-26', name: 'National Heroes‚Äô Day' },
                { date: '2024-11-30', name: 'Bonifacio Day' },
                { date: '2024-12-25', name: 'Christmas Day' },
                { date: '2024-12-30', name: 'Rizal Day' }
            ],
            'Poland': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-01-06', name: 'Epiphany' },
                { date: '2024-03-31', name: 'Easter Sunday' },
                { date: '2024-04-01', name: 'Easter Monday' },
                { date: '2024-05-01', name: 'Labour Day' },
                { date: '2024-05-03', name: 'Constitution Day' },
                { date: '2024-05-19', name: 'Whit Sunday' },
                { date: '2024-05-30', name: 'Corpus Christi' },
                { date: '2024-08-15', name: 'Assumption of Mary' },
                { date: '2024-11-01', name: 'All Saints‚Äô Day' },
                { date: '2024-11-11', name: 'Independence Day' },
                { date: '2024-12-25', name: 'Christmas Day' },
                { date: '2024-12-26', name: 'Boxing Day' }
            ],
            'Portugal': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-02-13', name: 'Carnival Tuesday' },
                { date: '2024-03-29', name: 'Good Friday' },
                { date: '2024-03-31', name: 'Easter Sunday' },
                { date: '2024-04-25', name: 'Liberty Day' },
                { date: '2024-05-01', name: 'Labour Day' },
                { date: '2024-06-10', name: 'Portugal Day' },
                { date: '2024-08-15', name: 'Assumption of Mary' },
                { date: '2024-10-05', name: 'Republic Day' },
                { date: '2024-11-01', name: 'All Saints‚Äô Day' },
                { date: '2024-12-01', name: 'Restoration of Independence' },
                { date: '2024-12-08', name: 'Immaculate Conception' },
                { date: '2024-12-25', name: 'Christmas Day' }
            ],
            'Romania': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-01-02', name: 'New Year‚Äôs Day (Day 2)' },
                { date: '2024-01-24', name: 'Union Day' },
                { date: '2024-05-06', name: 'Orthodox Easter Monday' },
                { date: '2024-05-01', name: 'Labour Day' },
                { date: '2024-06-01', name: 'Children‚Äôs Day' },
                { date: '2024-06-24', name: 'Pentecost Monday' },
                { date: '2024-08-15', name: 'Assumption of Mary' },
                { date: '2024-11-30', name: 'St. Andrew‚Äôs Day' },
                { date: '2024-12-01', name: 'National Day / Great Union Day' },
                { date: '2024-12-25', name: 'Christmas Day' },
                { date: '2024-12-26', name: 'Boxing Day' }
            ],
            'Saudi Arabia': [
                { date: '2024-04-10', name: 'Eid al-Fitr' },
                { date: '2024-06-16', name: 'Eid al-Adha' },
                { date: '2024-07-07', name: 'Islamic New Year' },
                { date: '2024-09-23', name: 'Saudi National Day' },
                { date: '2024-09-15', name: 'Prophet Muhammad‚Äôs Birthday' }
            ],
            'Singapore': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-02-10', name: 'Chinese New Year (Day 1)' },
                { date: '2024-02-11', name: 'Chinese New Year (Day 2)' },
                { date: '2024-03-29', name: 'Good Friday' },
                { date: '2024-05-01', name: 'Labour Day' },
                { date: '2024-05-22', name: 'Vesak Day' },
                { date: '2024-04-10', name: 'Hari Raya Puasa' },
                { date: '2024-06-17', name: 'Hari Raya Haji' },
                { date: '2024-08-09', name: 'National Day' },
                { date: '2024-10-31', name: 'Deepavali' },
                { date: '2024-12-25', name: 'Christmas Day' }
            ],
            'South Africa': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-03-21', name: 'Human Rights Day' },
                { date: '2024-03-29', name: 'Good Friday' },
                { date: '2024-04-01', name: 'Family Day' },
                { date: '2024-04-27', name: 'Freedom Day' },
                { date: '2024-05-01', name: 'Workers‚Äô Day' },
                { date: '2024-06-16', name: 'Youth Day' },
                { date: '2024-08-09', name: 'National Women‚Äôs Day' },
                { date: '2024-09-24', name: 'Heritage Day' },
                { date: '2024-12-16', name: 'Day of Reconciliation' },
                { date: '2024-12-25', name: 'Christmas Day' },
                { date: '2024-12-26', name: 'Day of Goodwill' }
            ],
            'South Korea': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-02-09', name: 'Seollal (Korean New Year)' },
                { date: '2024-03-01', name: 'Independence Movement Day' },
                { date: '2024-05-05', name: 'Children‚Äôs Day' },
                { date: '2024-05-15', name: 'Buddha‚Äôs Birthday' },
                { date: '2024-06-06', name: 'Memorial Day' },
                { date: '2024-08-15', name: 'Liberation Day' },
                { date: '2024-09-16', name: 'Chuseok' },
                { date: '2024-10-03', name: 'National Foundation Day' },
                { date: '2024-10-09', name: 'Hangul Day' },
                { date: '2024-12-25', name: 'Christmas Day' }
            ],
            'Spain': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-01-06', name: 'Epiphany' },
                { date: '2024-03-29', name: 'Good Friday' },
                { date: '2024-05-01', name: 'Labour Day' },
                { date: '2024-08-15', name: 'Assumption of Mary' },
                { date: '2024-10-12', name: 'National Day' },
                { date: '2024-11-01', name: 'All Saints‚Äô Day' },
                { date: '2024-12-06', name: 'Constitution Day' },
                { date: '2024-12-08', name: 'Immaculate Conception' },
                { date: '2024-12-25', name: 'Christmas Day' }
            ],
            'Sweden': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-01-06', name: 'Epiphany' },
                { date: '2024-03-29', name: 'Good Friday' },
                { date: '2024-03-31', name: 'Easter Sunday' },
                { date: '2024-04-01', name: 'Easter Monday' },
                { date: '2024-05-01', name: 'Labour Day' },
                { date: '2024-05-09', name: 'Ascension Day' },
                { date: '2024-06-06', name: 'National Day' },
                { date: '2024-06-21', name: 'Midsummer Eve' },
                { date: '2024-12-24', name: 'Christmas Eve' },
                { date: '2024-12-25', name: 'Christmas Day' },
                { date: '2024-12-26', name: 'Boxing Day' }
            ],
            'Switzerland': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-03-29', name: 'Good Friday' },
                { date: '2024-04-01', name: 'Easter Monday' },
                { date: '2024-05-01', name: 'Labour Day' },
                { date: '2024-05-09', name: 'Ascension Day' },
                { date: '2024-05-20', name: 'Whit Monday' },
                { date: '2024-08-01', name: 'National Day' },
                { date: '2024-12-25', name: 'Christmas Day' },
                { date: '2024-12-26', name: 'St. Stephen‚Äôs Day' }
            ],
            'Tanzania': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-01-12', name: 'Zanzibar Revolution Day' },
                { date: '2024-03-29', name: 'Good Friday' },
                { date: '2024-04-01', name: 'Easter Monday' },
                { date: '2024-04-26', name: 'Union Day' },
                { date: '2024-05-01', name: 'Labour Day' },
                { date: '2024-04-10', name: 'Eid al-Fitr' },
                { date: '2024-06-17', name: 'Eid al-Adha' },
                { date: '2024-07-07', name: 'Peasants‚Äô Day' },
                { date: '2024-08-08', name: 'Farmers‚Äô Day' },
                { date: '2024-12-09', name: 'Independence Day' },
                { date: '2024-12-25', name: 'Christmas Day' },
                { date: '2024-12-26', name: 'Boxing Day' }
            ],
            'Thailand': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-02-24', name: 'Makha Bucha Day' },
                { date: '2024-04-06', name: 'Chakri Memorial Day' },
                { date: '2024-04-13', name: 'Songkran Festival' },
                { date: '2024-05-01', name: 'Labour Day' },
                { date: '2024-05-04', name: 'Coronation Day' },
                { date: '2024-05-22', name: 'Visakha Bucha Day' },
                { date: '2024-07-20', name: 'Asarnha Bucha Day' },
                { date: '2024-08-12', name: 'Queen‚Äôs Birthday / Mother‚Äôs Day' },
                { date: '2024-12-05', name: 'King‚Äôs Birthday / National Day / Father‚Äôs Day' },
                { date: '2024-12-10', name: 'Constitution Day' },
                { date: '2024-12-31', name: 'New Year‚Äôs Eve' }
            ],
            'Turkey': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-04-23', name: 'National Sovereignty and Children‚Äôs Day' },
                { date: '2024-05-01', name: 'Labour and Solidarity Day' },
                { date: '2024-05-19', name: 'Youth and Sports Day' },
                { date: '2024-07-15', name: 'Democracy and National Unity Day' },
                { date: '2024-08-30', name: 'Victory Day' },
                { date: '2024-10-29', name: 'Republic Day' }
            ],
            'United Kingdom': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-03-17', name: 'St. Patrick‚Äôs Day' },
                { date: '2024-03-29', name: 'Good Friday' },
                { date: '2024-04-01', name: 'Easter Monday' },
                { date: '2024-05-06', name: 'Early May Bank Holiday' },
                { date: '2024-05-27', name: 'Spring Bank Holiday' },
                { date: '2024-07-12', name: 'Battle of the Boyne' },
                { date: '2024-08-05', name: 'Summer Bank Holiday (Scotland)' },
                { date: '2024-08-26', name: 'Summer Bank Holiday' },
                { date: '2024-11-30', name: 'St. Andrew‚Äôs Day' },
                { date: '2024-12-25', name: 'Christmas Day' },
                { date: '2024-12-26', name: 'Boxing Day' }
            ],
            'United States': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-01-15', name: 'Martin Luther King Jr. Day' },
                { date: '2024-02-19', name: 'Presidents‚Äô Day' },
                { date: '2024-05-27', name: 'Memorial Day' },
                { date: '2024-06-19', name: 'Juneteenth' },
                { date: '2024-07-04', name: 'Independence Day' },
                { date: '2024-09-02', name: 'Labor Day' },
                { date: '2024-10-14', name: 'Columbus Day / Indigenous Peoples‚Äô Day' },
                { date: '2024-11-11', name: 'Veterans Day' },
                { date: '2024-11-28', name: 'Thanksgiving Day' },
                { date: '2024-12-25', name: 'Christmas Day' }
            ],
            'Vietnam': [
                { date: '2024-01-01', name: 'New Year‚Äôs Day' },
                { date: '2024-02-08', name: 'Tet Nguyen Dan' },
                { date: '2024-04-18', name: 'Hung Kings Commemoration Day' },
                { date: '2024-04-30', name: 'Reunification Day' },
                { date: '2024-05-01', name: 'International Labour Day' },
                { date: '2024-09-02', name: 'National Day' }
            ]
        });

        // End of countriesData definition

        // U.S. Embassy contact information for each country.  Each entry provides the embassy address, phone number and website.
        const usEmbassyContacts = {
            'Argentina': { address: 'Av. Colombia 4300 (C1425GMN) Buenos Aires, Argentina', phone: '(54-11) 5777-4533', url: 'https://ar.usembassy.gov/' },
            'Italy': { address: 'Via V. Veneto 119/A, Rome, Italy', phone: '+39 06-46741', url: 'https://it.usembassy.gov/' },
            'Turkey': { address: '110 Atat√ºrk Blvd., Kavaklidere, 06100 Ankara, Turkey', phone: '+90 (312) 455-5555', url: 'https://tr.usembassy.gov/' },
            'Mexico': { address: 'Paseo de la Reforma 305, Colonia Cuauhtemoc, 06500 Mexico, D.F., Mexico', phone: '+52 55 5080 2000', url: 'https://mx.usembassy.gov/' },
            'Thailand': { address: '120‚Äë122 Wireless Road, Bangkok 10330, Thailand', phone: '+66 2 205 4000', url: 'https://th.usembassy.gov/' },
            'China': { address: 'No. 55 An Jia Lou Lu, Beijing 100600, China', phone: '+86 10 8531 3000', url: 'https://china.usembassy.gov/' },
            'Finland': { address: 'It√§inen Puistotie 14 B, 00140 Helsinki, Finland', phone: '+358 9 616 250', url: 'https://fi.usembassy.gov/' },
            'Romania': { address: 'B-dul Dr. Liviu Librescu Nr. 4‚Äì6, Sector 1, Bucharest 015118, Romania', phone: '+40 21 200-3300', url: 'https://ro.usembassy.gov/' },
            'Norway': { address: 'Morgedalsvegen 36, 0378 Oslo, Norway', phone: '+47 2130 8540', url: 'https://no.usembassy.gov/' },
            'Germany': { address: 'Clayallee 170, 14191 Berlin, Germany', phone: '+49 30 8305 0', url: 'https://de.usembassy.gov/' },
            'Spain': { address: 'Calle Serrano 75, 28006 Madrid, Spain', phone: '+34 91 587 2240', url: 'https://es.usembassy.gov/' },
            'France': { address: '2 Avenue Gabriel, 75008 Paris, France', phone: '+33 1 43 12 48 80', url: 'https://fr.usembassy.gov/' },
            'Austria': { address: 'Parkring 12A, 1010 Vienna, Austria', phone: '+43 1 313 39 0', url: 'https://at.usembassy.gov/' },
            'United Kingdom': { address: '24 Grosvenor Square, London W1A 2LQ, United Kingdom', phone: '+44 20 7499 9000', url: 'https://uk.usembassy.gov/' },
            'Netherlands': { address: 'Lange Voorhout 102, 2514 EJ The Hague, Netherlands', phone: '+31 70 310 2209', url: 'https://nl.usembassy.gov/' },
            'Canada': { address: '490 Sussex Drive, Ottawa, ON K1N 1G8, Canada', phone: '+1 613-688-5335', url: 'https://ca.usembassy.gov/' },
            'Japan': { address: '1-10-5 Akasaka, Minato-ku, Tokyo 107-8420, Japan', phone: '+81 3 3224 5000', url: 'https://jp.usembassy.gov/' },
            'Malaysia': { address: '376 Jalan Tun Razak, 50400 Kuala Lumpur, Malaysia', phone: '+60 3 2168 5000', url: 'https://my.usembassy.gov/' },
            'South Korea': { address: '188 Sejong-daero, Jongno-gu, Seoul 03141, South Korea', phone: '+82 2 397 4114', url: 'https://kr.usembassy.gov/' }
            ,
            // Added remaining countries with actual U.S. Embassy contact details.  Addresses and phone numbers
            // sourced from official U.S. embassy listings and travel.state.gov.  If a country has multiple
            // consulates, only the primary embassy in the capital is listed here.
            'Indonesia': { address: 'Jl. Medan Merdeka Selatan No. 3 ‚Äì 5, Jakarta 10110, Indonesia', phone: '+62 21 3435 9000', url: 'https://id.usembassy.gov/' },
            'Portugal': { address: 'Av. das For√ßas Armadas, Sete-Rios 1600-081 Lisbon, Portugal', phone: '+351 21 770 2122', url: 'https://pt.usembassy.gov/' },
            'Greece': { address: '91 Vasilisis Sophias Avenue, 10160 Athens, Greece', phone: '+30 210 721 2951', url: 'https://gr.usembassy.gov/' },
            'Saudi Arabia': { address: 'Abdullah Ibn Hudhafah As Sahmi Street, Roundabout no. 9, Diplomatic Quarter, Riyadh, Saudi Arabia', phone: '+966 11 488 3800', url: 'https://sa.usembassy.gov/' },
            'Poland': { address: 'Aleje Ujazdowskie 29/31, 00-540 Warsaw, Poland', phone: '+48 22 504 2000', url: 'https://pl.usembassy.gov/' },
            'Hungary': { address: 'Szabads√°g t√©r 12, 1054 Budapest, Hungary', phone: '+36 1 475 4400', url: 'https://hu.usembassy.gov/' },
            'India': { address: 'Shantipath, Chanakyapuri, New Delhi 110021, India', phone: '+91 11 2419 8000', url: 'https://in.usembassy.gov/' },
            'Switzerland': { address: 'Sulgeneckstrasse 19, CH-3007 Bern, Switzerland', phone: '+41 31 357 7011', url: 'https://ch.usembassy.gov/' },
            'Croatia': { address: 'Thomas Jefferson Street 2, 10010 Zagreb, Croatia', phone: '+385 1 661 2200', url: 'https://hr.usembassy.gov/' },
            'Morocco': { address: 'Km 5.7 Av. Mohamed VI, Souissi, Rabat 10170, Morocco', phone: '+212 537 63 72 00', url: 'https://ma.usembassy.gov/' },
            'Denmark': { address: 'Dag Hammarskj√∂lds All√© 24, 2100 Copenhagen, Denmark', phone: '+45 33 41 71 00', url: 'https://dk.usembassy.gov/' },
            'Philippines': { address: '1201 Roxas Boulevard, Ermita, Manila 1000, Philippines', phone: '+63 2 5301 2000', url: 'https://ph.usembassy.gov/' },
            'Singapore': { address: '27 Napier Road, Singapore 258508', phone: '+65 6476 9100', url: 'https://sg.usembassy.gov/' },
            'Tanzania': { address: '686 Old Bagamoyo Road, Msasani, Dar es Salaam, Tanzania', phone: '+255 22 229 4000', url: 'https://tz.usembassy.gov/' },
            'New Zealand': { address: '29 Fitzherbert Terrace, Thorndon, Wellington 6011, New Zealand', phone: '+64 4 462 6000', url: 'https://nz.usembassy.gov/' },
            'Vietnam': { address: '7 Lang Ha Street, Ba Dinh District, Hanoi, Vietnam', phone: '+84 24 3850 5000', url: 'https://vn.usembassy.gov/' },
            'South Africa': { address: '877 Pretorius Street, Arcadia, Pretoria, South Africa', phone: '+27 12 431 4000', url: 'https://za.usembassy.gov/' },
            'Sweden': { address: 'Dag Hammarskj√∂lds V√§g 31, 115 89 Stockholm, Sweden', phone: '+46 8 783 5300', url: 'https://se.usembassy.gov/' },
            'Egypt': { address: '5 Tawfik Diab Street, Garden City, Cairo 11511, Egypt', phone: '+20 2 2797 3300', url: 'https://eg.usembassy.gov/' }
            ,
            'Hong Kong': { address: '26 Garden Road, Central, Hong Kong', phone: '+852 2523 9011', url: 'https://hk.usconsulate.gov/' }
        };

        // Guidelines on common do's and don'ts for visitors.  These concise tips offer behavioural norms and etiquette.
        const localsAdvice = {
            'Argentina': [
                'Do greet with a kiss on the cheek.',
                'Don‚Äôt be too punctual ‚Äì arriving a little late is common.',
                'Try sharing mate but let the host pour the hot water.'
            ],
            'Finland': [
                'Remove your shoes when entering homes.',
                'Respect personal space and keep voices low in public.',
                'Sauna etiquette: no clothing and shower before entering.'
            ],
            'Romania': [
                'Greet with a handshake and maintain eye contact.',
                'Dress modestly when visiting churches.',
                'Don‚Äôt point with your finger; use your whole hand.'
            ],
            'Norway': [
                'Greet with a firm handshake and say ‚ÄúHei‚Äù.',
                'Take off your shoes when entering someone‚Äôs home.',
                'Avoid boasting; modesty is valued.'
            ],
            'Italy': [
                'Greet with a light handshake or cheek kiss among friends.',
                'Dress respectfully when visiting churches.',
                'Don‚Äôt ask for cheese on seafood pasta.'
            ],
            'France': [
                'Greet with ‚ÄúBonjour‚Äù and a handshake or cheek kisses among acquaintances.',
                'Don‚Äôt speak loudly in public places.',
                'Keep your hands on the table (not in your lap) while dining.'
            ],
            'Spain': [
                'Greet with a handshake or two kisses on the cheek among friends.',
                'Keep to relaxed dining hours; meals are later in the day.',
                'Don‚Äôt expect shops to be open during siesta times.'
            ],
            'Germany': [
                'Greet with a firm handshake and maintain eye contact.',
                'Be punctual; timeliness is highly valued.',
                'Don‚Äôt jaywalk ‚Äì wait for the green pedestrian signal.'
            ],
            'Austria': [
                'Use formal titles and surnames when addressing people.',
                'Be punctual for appointments and social gatherings.',
                'Don‚Äôt bring up money or income in conversation.'
            ],
            'United Kingdom': [
                'Queue politely and don‚Äôt jump the line.',
                'Say ‚Äúplease‚Äù and ‚Äúthank you‚Äù frequently.',
                'Respect personal space and avoid loud talking on public transport.'
            ],
            'Japan': [
                'Bow when greeting and hand over items with both hands.',
                'Remove shoes when entering homes and some restaurants.',
                'Don‚Äôt tip ‚Äì it is not customary and may be considered rude.'
            ],
            'Greece': [
                'Greet with a handshake; close friends may hug or kiss.',
                'Dress modestly when visiting monasteries and churches.',
                'Don‚Äôt point the soles of your feet at people.'
            ],
            'Malaysia': [
                'Use your right hand for eating and giving or receiving items.',
                'Remove shoes when entering homes and some shops.',
                'Avoid public displays of affection.'
            ],
            'Portugal': [
                'Greet with a handshake or kisses on both cheeks.',
                'Be courteous and wait to be seated at restaurants.',
                'Don‚Äôt shout or speak loudly in public.'
            ],
            'South Korea': [
                'Bow slightly when greeting; shake hands with both hands.',
                'Pour drinks for others and never pour your own first.',
                'Avoid writing names in red ink as it symbolises death.'
            ],
            'Netherlands': [
                'Greet with a handshake and maintain eye contact.',
                'Arrive on time for appointments and social events.',
                'Don‚Äôt stand in bike lanes or block them.'
            ],
            'Canada': [
                'Greet with a handshake; French Canadians may kiss on the cheeks.',
                'Respect the diverse cultures and languages.',
                'Don‚Äôt smoke in public places unless permitted.'
            ],
            'China': [
                'Greet with a slight nod or handshake.',
                'Use both hands when giving or receiving items.',
                'Avoid discussing sensitive topics like politics.'
            ],
            'Turkey': [
                'Greet with a handshake; close friends may kiss on both cheeks.',
                'Remove shoes when entering homes.',
                'Don‚Äôt criticise Turkish culture or politics openly.'
            ],
            'Mexico': [
                'Greet with a handshake or hug among friends.',
                'Be patient ‚Äì time is flexible and schedules may run late.',
                'Don‚Äôt pour your own tequila; wait for the host.'
            ],
            'Thailand': [
                'Greet with a ‚Äúwai‚Äù by pressing palms together and bowing slightly.',
                'Remove shoes before entering homes and temples.',
                'Don‚Äôt touch anyone‚Äôs head or point your feet at people.'
            ],
            'Poland': [
                'Greet with a firm handshake; men may kiss a woman‚Äôs hand.',
                'Bring a small gift when invited to someone‚Äôs home.',
                'Don‚Äôt discuss politics or the war during casual conversation.'
            ],
            'Hungary': [
                'Greet with a firm handshake and maintain eye contact.',
                'Take shoes off when entering homes.',
                'Don‚Äôt clink beer glasses ‚Äì it‚Äôs considered bad luck.'
            ],
            'India': [
                'Greet with ‚ÄúNamaste‚Äù pressing palms together.',
                'Remove shoes before entering homes and temples.',
                'Avoid public displays of affection.'
            ],
            'Switzerland': [
                'Greet with a handshake; in the French-speaking areas people may kiss three times on the cheeks.',
                'Be punctual and organised.',
                'Don‚Äôt cross the street on a red signal.'
            ],
            'Croatia': [
                'Greet with a firm handshake and maintain eye contact.',
                'Bring small gifts when visiting someone‚Äôs home.',
                'Don‚Äôt raise your voice in public; keep conversations polite.'
            ],
            'Indonesia': [
                'Greet with a handshake; use your right hand only.',
                'Dress modestly in rural areas and religious sites.',
                'Don‚Äôt use your left hand to eat or pass items.'
            ],
            'Morocco': [
                'Greet with a handshake and a light kiss on the cheeks among friends.',
                'Use your right hand for eating and giving gifts.',
                'Don‚Äôt eat or drink in public during Ramadan.'
            ],
            'Denmark': [
                'Greet with a firm handshake and eye contact.',
                'Be on time for appointments and social events.',
                'Don‚Äôt overdo small talk ‚Äì Danes appreciate directness.'
            ],
            'Philippines': [
                'Greet with a handshake; close friends may hug or cheek-kiss.',
                'Bring pasalubong (small gifts) when visiting homes.',
                'Don‚Äôt point with your forefinger; use your lips or hand.'
            ],
            'Singapore': [
                'Greet with a handshake; avoid too firm a grip.',
                'Speak softly in public and avoid chewing gum in public places.',
                'Don‚Äôt litter or break rules ‚Äì fines are common.'
            ],
            'Tanzania': [
                'Greet elders with respect; a handshake may be lengthy.',
                'Dress modestly, especially in rural and coastal areas.',
                'Don‚Äôt publicly criticise local customs or beliefs.'
            ],
            'New Zealand': [
                'Greet with a handshake; the MƒÅori hongi is pressing noses.',
                'Remove shoes when entering homes.',
                'Don‚Äôt honk your horn unless it‚Äôs an emergency.'
            ],
            'Vietnam': [
                'Greet with a light handshake or slight bow.',
                'Hand objects with both hands.',
                'Don‚Äôt leave chopsticks upright in rice ‚Äì it symbolises death.'
            ],
            'Sweden': [
                'Greet with a handshake and maintain personal space.',
                'Be punctual; Swedes are very time conscious.',
                'Don‚Äôt talk loudly on public transport.'
            ],
            'Egypt': [
                'Greet with a handshake; close friends may kiss on the cheeks.',
                'Remove your shoes before entering mosques.',
                'Don‚Äôt show the soles of your feet to others.'
            ],
            'South Africa': [
                'Greet with a handshake; among some communities a two-handed shake is common.',
                'Be punctual for business meetings, but social gatherings may start later.',
                'Don‚Äôt wander alone at night in unfamiliar areas.'
            ]
        };

        // Short, sweet recommendation statements for the Start Exploring feature.
        
const recommendationStatements = {
  'Argentina': 'some sizzling steak and a tango lesson in Buenos Aires',
  'Australia': 'road-tripping the Great Ocean Road and snorkelling the Reef',
  'Austria': 'classical concerts and alpine views',
  'Canada': 'ice-blue lakes and mountain towns',
  'China': 'the Great Wall and futuristic skylines',
  'Colombia': 'colorful towns and Caribbean beaches',
  'Croatia': 'turquoise bays and walled old towns',
  'Denmark': 'cozy hygge caf√©s and castles',
  'Egypt': 'pyramids at sunrise and Nile felucca rides',
  'Finland': 'a steamy sauna beneath the northern lights',
  'France': 'croissants by the Seine and world-class art',
  'Germany': 'fairy-tale castles and beer gardens',
  'Greece': 'sunny islands and ancient ruins',
  'Hong Kong': 'Peak views and dim sum',
  'Hungary': 'thermal baths and riverside walks',
  'India': 'spice markets and palace cities',
  'Indonesia': 'Bali beaches and Komodo dragons',
  'Italy': 'pizza in Naples and Tuscan sunsets',
  'Japan': 'neon nights and temple mornings',
  'Malaysia': 'rainforests and hawker feasts',
  'Mexico': 'cenotes and colonial plazas',
  'Morocco': 'desert camps and blue alleys',
  'Netherlands': 'canals and windmills',
  'New Zealand': 'glow-worm caves and alpine hikes',
  'Norway': 'cruising majestic fjords and hiking to dizzying cliffs',
  'Philippines': 'island-hopping and jeepney rides',
  'Poland': 'medieval squares and cozy milk bars',
  'Portugal': 'tile-lined streets and past√©is de nata',
  'Romania': 'wandering through Dracula‚Äôs castle and medieval towns',
  'Saudi Arabia': 'red-sand deserts and ancient rock art',
  'Singapore': 'supertrees and hawker centres',
  'South Africa': 'safari drives and Table Mountain',
  'South Korea': 'palaces by day and K-nightlife by night',
  'Spain': 'tapas crawls and Gaud√≠ architecture',
  'Sweden': 'island ferries and fika',
  'Switzerland': 'glacier views and scenic trains',
  'Tanzania': 'Serengeti safaris and Zanzibar beaches',
  'Thailand': 'temple hopping and spicy street food',
  'Turkey': 'ancient bazaars and hot-air balloons over Cappadocia',
  'United Kingdom': 'pub walks and royal parks',
  'United States': 'national parks and iconic skylines',
  'Vietnam': 'limestone bays and fragrant street food'
};

function renderEssentialPhrasesForCategory() {
    const selectEl = document.getElementById('essential-phrase-category-select');
    const listEl = document.getElementById('essential-phrases-list');
    if (!selectEl || !listEl || !currentPhrasesByCategory) return;
    const category = selectEl.value;
    const entries = currentPhrasesByCategory[category] || [];
    listEl.innerHTML = '';
    entries.forEach(([eng, trans]) => {
        const li = document.createElement('li');
        // Strip diacritics and special punctuation from translations for phonetic spelling
        const cleanTrans = removeDiacritics(trans);
        li.innerHTML = `<span class="font-medium">${eng}:</span> ${cleanTrans}`;
        listEl.appendChild(li);
    });
}

        /**
         * Fetch the user's public IP address and display it.
         */
        async function fetchIpAddress() {
            ipAddressDisplay.textContent = 'Fetching IP‚Ä¶';
            try {
                const res = await fetch('https://api.ipify.org?format=json');
                const data = await res.json();
                ipAddressDisplay.textContent = `Your IP address: ${data.ip}`;
            } catch (err) {
                ipAddressDisplay.textContent = 'Unable to fetch IP.';
            }
        }

        /**
         * Handle submission of the comment form.  Reads the selected photo (if any)
         * using FileReader, then appends a new comment card to the comments
         * display.  The form is then reset.  No data is sent anywhere.
         * @param {Event} e The form submit event
         */
        function handleCommentSubmit(e) {
            e.preventDefault();
            const name = commentName.value.trim();
            const country = commentCountrySelect.value;
            const text = commentText.value.trim();
            const file = commentPhoto.files[0];
            if (!text) {
                alert('Please enter a comment before submitting.');
                return;
            }
            const createCard = (imgSrc) => {
                const card = document.createElement('div');
                card.className = 'p-4 bg-white rounded-lg shadow-xl border border-gray-200 transform transition-transform duration-300 hover:-translate-y-1 hover:shadow-2xl';
                let html = '';
                if (imgSrc) {
                    html += `<img src="${imgSrc}" alt="User uploaded photo" class="w-full h-48 object-cover rounded mb-3">`;
                }
                html += `<p class="text-sm text-gray-500 mb-1">${country}</p>`;
                html += `<h4 class="font-semibold text-lg mb-1">${name || 'Anonymous'}</h4>`;
                html += `<p class="text-gray-700">${text}</p>`;
                card.innerHTML = html;
                commentsDisplay.prepend(card);
            };
            if (file) {
                const reader = new FileReader();
                reader.onload = () => createCard(reader.result);
                reader.readAsDataURL(file);
            } else {
                createCard(null);
            }
            // Reset the form
            commentForm.reset();
            commentCountrySelect.value = countrySelect.value;
        }

        /**
         * Show or hide the scroll‚Äëto‚Äëtop button based on scroll position.
         */
        function handleScroll() {
            if (document.documentElement.scrollTop > 300) {
                scrollBtn.style.display = 'block';
            } else {
                scrollBtn.style.display = 'none';
            }
        }

        // Attach event listeners
        countrySelect.addEventListener('change', (e) => updateCountryContent(e.target.value));
        convertCurrencyBtn.addEventListener('click', convertCurrency);
        convertMeasurementBtn.addEventListener('click', convertMeasurement);
        getIpBtn.addEventListener('click', fetchIpAddress);
        commentForm.addEventListener('submit', handleCommentSubmit);
        window.addEventListener('scroll', handleScroll);
        scrollBtn.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));

        // Measurement unit pairing removed.  Users can freely select any units for conversion.

        // Random recommendation modal interactions will be set up after the DOM is fully loaded.

        // Holiday calendar overlay interactions
        if (calendarThumbnail) {
            calendarThumbnail.addEventListener('click', openCalendarOverlay);
        }
        if (prevMonthBtnOverlay) {
            prevMonthBtnOverlay.addEventListener('click', () => navigateOverlay(-1));
        }
        if (nextMonthBtnOverlay) {
            nextMonthBtnOverlay.addEventListener('click', () => navigateOverlay(1));
        }
        if (closeCalendarBtn) {
            closeCalendarBtn.addEventListener('click', closeCalendarOverlay);
        }

        // Initial setup when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            // Populate the destination and comment dropdowns
            populateCountryDropdowns();
            // Local time zone options are statically defined in the markup, so no need to populate them here.
            fetchExchangeRates();
            // Attach measurement unit pairing so that selecting a unit in either dropdown automatically updates the other
            const fromUnitSelectDOM = document.getElementById('from-unit');
            const toUnitSelectDOM = document.getElementById('to-unit');
            const measurementPairsDOM = {
                km: 'miles',
                miles: 'km',
                celsius: 'fahrenheit',
                fahrenheit: 'celsius',
                kg: 'lbs',
                lbs: 'kg'
            };
            function syncMeasurementPair(changedSelect) {
                if (!changedSelect) return;
                const pair = measurementPairsDOM[changedSelect.value];
                if (changedSelect === fromUnitSelectDOM && pair) {
                    toUnitSelectDOM.value = pair;
                } else if (changedSelect === toUnitSelectDOM && pair) {
                    fromUnitSelectDOM.value = pair;
                }
            }
            if (fromUnitSelectDOM && toUnitSelectDOM) {
                fromUnitSelectDOM.addEventListener('change', () => syncMeasurementPair(fromUnitSelectDOM));
                toUnitSelectDOM.addEventListener('change', () => syncMeasurementPair(toUnitSelectDOM));
                // Initialise the pairing based on the default from-unit
                syncMeasurementPair(fromUnitSelectDOM);
            }
            // Set up the random recommendation modal functionality now that the DOM is ready
            const startExploreBtn = document.getElementById('start-explore-btn');
            const recommendationModal = document.getElementById('recommendation-modal');
            const recommendationTextEl = document.getElementById('recommendation-text');
            const recommendYesBtn = document.getElementById('recommend-yes');
            const recommendNoBtn = document.getElementById('recommend-no');
            let recommendedCountry = null;
            if (startExploreBtn && recommendationModal && recommendationTextEl && recommendYesBtn && recommendNoBtn) {
                startExploreBtn.addEventListener('click', () => {
                    const countries = Object.keys(countriesData);
                    const randIndex = Math.floor(Math.random() * countries.length);
                    recommendedCountry = countries[randIndex];
                    const message = recommendationStatements[recommendedCountry] || `${recommendedCountry} and experience its unique charm`;
                    recommendationTextEl.textContent = `How would you like to try ${message}?`;
                    recommendationModal.classList.remove('hidden');
                });
                recommendYesBtn.addEventListener('click', () => {
                    if (recommendedCountry) {
                        const countrySelect = document.getElementById('country-select');
                        const commentCountrySelect = document.getElementById('comment-country');
                        if (countrySelect) {
                            countrySelect.value = recommendedCountry;
                            updateCountryContent(recommendedCountry);
                        }
                        if (commentCountrySelect) {
                            commentCountrySelect.value = recommendedCountry;
                        }
                    }
                    recommendationModal.classList.add('hidden');
                    const countrySelectEl = document.getElementById('country-select');
                    if (countrySelectEl) {
                        countrySelectEl.scrollIntoView({ behavior: 'smooth' });
                    }
                });
                recommendNoBtn.addEventListener('click', () => {
                    recommendationModal.classList.add('hidden');
                    const countrySelectEl = document.getElementById('country-select');
                    if (countrySelectEl) {
                        countrySelectEl.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            }

            // Attach change listener for the phrase category dropdown to update phrases dynamically
            const essentialPhraseCategorySelect = document.getElementById('essential-phrase-category-select');
            if (essentialPhraseCategorySelect) {
                essentialPhraseCategorySelect.addEventListener('change', () => {
                    renderEssentialPhrasesForCategory();
                });
            }

            // Packing List overlay functionality
            const openPackingListBtn = document.getElementById('open-packing-list-btn');
            const packingListOverlay = document.getElementById('packing-list-overlay');
            const closePackingListBtn = document.getElementById('close-packing-list-btn');
            const downloadPackingListBtn = document.getElementById('download-packing-list-btn');
            const packingListEditable = document.getElementById('packing-list-editable');
            if (openPackingListBtn && packingListOverlay && closePackingListBtn && downloadPackingListBtn && packingListEditable) {
                openPackingListBtn.addEventListener('click', () => {
                    // Show the overlay when the Generate button is clicked
                    packingListOverlay.classList.remove('hidden');
                });
                closePackingListBtn.addEventListener('click', () => {
                    // Hide the overlay
                    packingListOverlay.classList.add('hidden');
                });
                downloadPackingListBtn.addEventListener('click', () => {
                    /*
                     * Generate a downloadable HTML file from the editable packing list.  We keep the checkboxes and
                     * formatting (bold headings and underlines) by using the element‚Äôs innerHTML.  The resulting
                     * file can be opened in a word processor or browser, preserving the appearance and allowing
                     * further editing.  A minimal HTML scaffold is wrapped around the content.
                     */
                    // Insert a line break after each label to ensure items appear on separate lines in the downloaded file
                    let content = packingListEditable.innerHTML;
                    content = content.replace(/<\/label>/g, '</label><br>');
                    const htmlContent = `<!DOCTYPE html><html><head><meta charset="UTF-8"><title>Packing List</title></head><body>${content}
<!-- Join Modal -->
<div id="join-overlay" class="fixed inset-0 bg-black bg-opacity-60 z-50 hidden items-center justify-center">
  <div class="bg-white p-6 md:p-8 rounded-lg shadow-xl w-[92%] max-w-md">
    <h3 class="text-xl font-semibold mb-4 text-center text-blue-600">Create Your Profile</h3>
    <form id="join-form" class="space-y-3">
      <div>
        <label class="block text-sm font-semibold mb-1" for="join-photo">Profile Picture</label>
        <input id="join-photo" type="file" accept="image/*" class="w-full p-2 border border-gray-300 rounded-md">
      </div>
      <div>
        <label class="block text-sm font-semibold mb-1" for="join-username">Username</label>
        <input id="join-username" type="text" maxlength="30" class="w-full p-3 border border-gray-300 rounded-md" placeholder="e.g., SunnyTraveler" required>
      </div>
      <div>
        <label class="block text-sm font-semibold mb-1" for="join-from">From</label>
        <input id="join-from" type="text" maxlength="40" class="w-full p-3 border border-gray-300 rounded-md" placeholder="e.g., NYC, USA">
      </div>
      <div>
        <label class="block text-sm font-semibold mb-1" for="join-greeting">Greeting</label>
        <input id="join-greeting" type="text" maxlength="80" class="w-full p-3 border border-gray-300 rounded-md" placeholder="e.g., Happy to meet you all!">
      </div>
      <div class="flex justify-between items-center pt-2">
        <button type="button" id="join-cancel" class="text-gray-600 hover:underline">Cancel</button>
        <button type="submit" class="button-gradient text-white py-2 px-6 rounded-md shadow-md">Save & Continue</button>
      </div>
    </form>
  </div>
</div>


<!-- Join gating & profile display (non-destructive) -->
<script>
(function () {
  // Helpers
  function $(id){ return document.getElementById(id); }
  function saveProfile(p){ localStorage.setItem('userProfileV1', JSON.stringify(p)); }
  function loadProfile(){ try { return JSON.parse(localStorage.getItem('userProfileV1') || 'null'); } catch { return null; } }

  // Elements
  var joinBtn = $('join-btn');
  var overlay = $('join-overlay');
  var joinForm = $('join-form');
  var cancelBtn = $('join-cancel');
  var profileCard = $('profile-card');
  var profilePhoto = $('profile-photo');
  var profileUsername = $('profile-username');
  var profileFrom = $('profile-from');
  var profileGreeting = $('profile-greeting');
  var logoutBtn = $('logout-btn');

  var commentForm = $('comment-form');
  var commentPhoto = $('comment-photo');
  var commentText = $('comment-text');
  var commentsDisplay = $('comments-display');

  function openOverlay(){ if (overlay) { overlay.classList.remove('hidden'); overlay.classList.add('flex'); } }
  function closeOverlay(){ if (overlay) { overlay.classList.add('hidden'); overlay.classList.remove('flex'); } }

  function applyProfileUI() {
    var p = loadProfile();
    if (!profileCard) return;
    if (p) {
      profileCard.classList.remove('hidden');
      profileUsername.textContent = p.username || '';
      profileFrom.textContent = p.from || '';
      profileGreeting.textContent = p.greeting || '';
      if (p.photoDataUrl) {
        profilePhoto.src = p.photoDataUrl;
        profilePhoto.classList.remove('hidden');
      } else {
        profilePhoto.src = '';
        profilePhoto.classList.add('hidden');
      }
    } else {
      profileCard.classList.add('hidden');
    }
  }

  // Join button + modal
  joinBtn && joinBtn.addEventListener('click', openOverlay);
  cancelBtn && cancelBtn.addEventListener('click', closeOverlay);

  joinForm && joinForm.addEventListener('submit', function(e){
    e.preventDefault();
    var username = (document.getElementById('join-username').value || '').trim();
    var from = (document.getElementById('join-from').value || '').trim();
    var greeting = (document.getElementById('join-greeting').value || '').trim();
    var file = document.getElementById('join-photo').files[0];

    if (!username) { alert('Please enter a username.'); return; }

    function finish(photoDataUrl) {
      saveProfile({ username: username, from: from, greeting: greeting, photoDataUrl: photoDataUrl || '' });
      closeOverlay();
      applyProfileUI();
    }

    if (file) {
      if (!file.type.startsWith('image/')) { alert('Please choose an image file.'); return; }
      var fr = new FileReader();
      fr.onload = function(){ finish(fr.result); };
      fr.onerror = function(){ alert('Could not read the selected image.'); };
      fr.readAsDataURL(file);
    } else {
      finish('');
    }
  });

  // Log out
  logoutBtn && logoutBtn.addEventListener('click', function(){
    localStorage.removeItem('userProfileV1');
    applyProfileUI();
  });

  // Gate the comment form (capture phase)
  if (commentForm) {
    commentForm.addEventListener('submit', function(e){
      var p = loadProfile();
      if (!p) {
        // Not joined yet
        e.preventDefault();
        e.stopImmediatePropagation();
        openOverlay();
        return;
      }
      // Enforce 1 picture + 1 non-empty comment per post
      var file = commentPhoto && commentPhoto.files ? commentPhoto.files[0] : null;
      var text = commentText ? (commentText.value || '').trim() : '';
      if (!file) {
        e.preventDefault(); e.stopImmediatePropagation();
        alert('Please add exactly one picture.');
        return;
      }
      if (!text) {
        e.preventDefault(); e.stopImmediatePropagation();
        alert('Please add a comment.');
        return;
      }
      // If both present, let the original submit handler run unmodified.
    }, true);
  }

  // Augment new posts with the user's profile block
  function augmentCards() {
    var p = loadProfile();
    if (!p || !commentsDisplay) return;
    Array.prototype.forEach.call(commentsDisplay.children, function(card){
      if (card.getAttribute('data-profile-applied') === '1') return;
      // Insert a compact profile header at the top of the card
      var header = document.createElement('div');
      header.className = 'flex items-center mb-2';
      header.innerHTML =
        (p.photoDataUrl ? '<img src="'+p.photoDataUrl+'" class="w-10 h-10 rounded-full object-cover border border-gray-300 mr-2" alt="Profile">' : '') +
        '<div class="text-sm"><div class="font-semibold">'+ (p.username || '') +'</div>' +
        '<div class="text-gray-600">'+ (p.from || '') +'</div>' +
        (p.greeting ? '<div class="italic text-gray-700">'+ p.greeting +'</div>' : '') + '</div>';
      card.insertBefore(header, card.firstChild);
      card.setAttribute('data-profile-applied','1');
    });
  }

  if (window.MutationObserver && commentsDisplay) {
    new MutationObserver(augmentCards).observe(commentsDisplay, { childList: true });
  }
  window.addEventListener('DOMContentLoaded', function(){
    applyProfileUI();
    augmentCards();
  });
})();
</script>

</body></html>`;
                    const blob = new Blob([htmlContent], { type: 'text/html;charset=utf-8' });
                    const url = URL.createObjectURL(blob);
                    const link = document.createElement('a');
                    link.href = url;
                    link.download = 'packing-list.html';
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                    URL.revokeObjectURL(url);
                });
            }

            // Deep Research functionality: display the detailed travel guide in a modal overlay.
            // When the user clicks the Deep Research button, load the local HTML file into
            // the iframe and show the overlay.  Closing the overlay clears the iframe source.
            const deepResearchBtn = document.getElementById('deep-research-btn');
            const deepResearchOverlay = document.getElementById('deep-research-overlay');
            const deepResearchIframe = document.getElementById('deep-research-iframe');
            const closeDeepResearchBtn = document.getElementById('close-deep-research-btn');
            if (deepResearchBtn && deepResearchOverlay && deepResearchIframe && closeDeepResearchBtn) {
                deepResearchBtn.addEventListener('click', () => {
                    // Set the iframe source to the travel guide file.  Spaces are encoded to ensure
                    // a valid URL on the file system.  Using the iframe avoids pop‚Äëup blockers and
                    // keeps the user within the current page.
                    deepResearchIframe.src = 'GPP%20Travel%20Guide.html';
                    deepResearchOverlay.classList.remove('hidden');
                });
                closeDeepResearchBtn.addEventListener('click', () => {
                    deepResearchOverlay.classList.add('hidden');
                    // Clear the iframe src so that the guide is reloaded on next open
                    // and to free resources when the overlay is closed.
                    deepResearchIframe.src = '';
                });
            }
        });
    </script>

<!-- Join Modal -->
<div id="join-overlay" class="fixed inset-0 bg-black bg-opacity-60 z-50 hidden items-center justify-center">
  <div class="bg-white p-6 md:p-8 rounded-lg shadow-xl w-[92%] max-w-md">
    <h3 class="text-xl font-semibold mb-4 text-center text-blue-600">Create Your Profile</h3>
    <form id="join-form" class="space-y-3">
      <div>
        <label class="block text-sm font-semibold mb-1" for="join-photo">Profile Picture</label>
        <input id="join-photo" type="file" accept="image/*" class="w-full p-2 border border-gray-300 rounded-md">
      </div>
      <div>
        <label class="block text-sm font-semibold mb-1" for="join-username">Username</label>
        <input id="join-username" type="text" maxlength="30" class="w-full p-3 border border-gray-300 rounded-md" placeholder="e.g., SunnyTraveler" required>
      </div>
      <div>
        <label class="block text-sm font-semibold mb-1" for="join-from">From</label>
        <input id="join-from" type="text" maxlength="40" class="w-full p-3 border border-gray-300 rounded-md" placeholder="e.g., NYC, USA">
      </div>
      <div>
        <label class="block text-sm font-semibold mb-1" for="join-greeting">Greeting</label>
        <input id="join-greeting" type="text" maxlength="80" class="w-full p-3 border border-gray-300 rounded-md" placeholder="e.g., Happy to meet you all!">
      </div>
      <div class="flex justify-between items-center pt-2">
        <button type="button" id="join-cancel" class="text-gray-600 hover:underline">Cancel</button>
        <button type="submit" class="button-gradient text-white py-2 px-6 rounded-md shadow-md">Save & Continue</button>
      </div>
    </form>
  </div>
</div>


<!-- Join gating & profile display (non-destructive) -->
<script>
(function () {
  // Helpers
  function $(id){ return document.getElementById(id); }
  function saveProfile(p){ localStorage.setItem('userProfileV1', JSON.stringify(p)); }
  function loadProfile(){ try { return JSON.parse(localStorage.getItem('userProfileV1') || 'null'); } catch { return null; } }

  // Elements
  var joinBtn = $('join-btn');
  var overlay = $('join-overlay');
  var joinForm = $('join-form');
  var cancelBtn = $('join-cancel');
  var profileCard = $('profile-card');
  var profilePhoto = $('profile-photo');
  var profileUsername = $('profile-username');
  var profileFrom = $('profile-from');
  var profileGreeting = $('profile-greeting');
  var logoutBtn = $('logout-btn');

  var commentForm = $('comment-form');
  var commentPhoto = $('comment-photo');
  var commentText = $('comment-text');
  var commentsDisplay = $('comments-display');

  function openOverlay(){ if (overlay) { overlay.classList.remove('hidden'); overlay.classList.add('flex'); } }
  function closeOverlay(){ if (overlay) { overlay.classList.add('hidden'); overlay.classList.remove('flex'); } }

  function applyProfileUI() {
    var p = loadProfile();
    if (!profileCard) return;
    if (p) {
      profileCard.classList.remove('hidden');
      profileUsername.textContent = p.username || '';
      profileFrom.textContent = p.from || '';
      profileGreeting.textContent = p.greeting || '';
      if (p.photoDataUrl) {
        profilePhoto.src = p.photoDataUrl;
        profilePhoto.classList.remove('hidden');
      } else {
        profilePhoto.src = '';
        profilePhoto.classList.add('hidden');
      }
    } else {
      profileCard.classList.add('hidden');
    }
  }

  // Join button + modal
  joinBtn && joinBtn.addEventListener('click', openOverlay);
  cancelBtn && cancelBtn.addEventListener('click', closeOverlay);

  joinForm && joinForm.addEventListener('submit', function(e){
    e.preventDefault();
    var username = (document.getElementById('join-username').value || '').trim();
    var from = (document.getElementById('join-from').value || '').trim();
    var greeting = (document.getElementById('join-greeting').value || '').trim();
    var file = document.getElementById('join-photo').files[0];

    if (!username) { alert('Please enter a username.'); return; }

    function finish(photoDataUrl) {
      saveProfile({ username: username, from: from, greeting: greeting, photoDataUrl: photoDataUrl || '' });
      closeOverlay();
      applyProfileUI();
    }

    if (file) {
      if (!file.type.startsWith('image/')) { alert('Please choose an image file.'); return; }
      var fr = new FileReader();
      fr.onload = function(){ finish(fr.result); };
      fr.onerror = function(){ alert('Could not read the selected image.'); };
      fr.readAsDataURL(file);
    } else {
      finish('');
    }
  });

  // Log out
  logoutBtn && logoutBtn.addEventListener('click', function(){
    localStorage.removeItem('userProfileV1');
    applyProfileUI();
  });

  // Gate the comment form (capture phase)
  if (commentForm) {
    commentForm.addEventListener('submit', function(e){
      var p = loadProfile();
      if (!p) {
        // Not joined yet
        e.preventDefault();
        e.stopImmediatePropagation();
        openOverlay();
        return;
      }
      // Enforce 1 picture + 1 non-empty comment per post
      var file = commentPhoto && commentPhoto.files ? commentPhoto.files[0] : null;
      var text = commentText ? (commentText.value || '').trim() : '';
      if (!file) {
        e.preventDefault(); e.stopImmediatePropagation();
        alert('Please add exactly one picture.');
        return;
      }
      if (!text) {
        e.preventDefault(); e.stopImmediatePropagation();
        alert('Please add a comment.');
        return;
      }
      // If both present, let the original submit handler run unmodified.
    }, true);
  }

  // Augment new posts with the user's profile block
  function augmentCards() {
    var p = loadProfile();
    if (!p || !commentsDisplay) return;
    Array.prototype.forEach.call(commentsDisplay.children, function(card){
      if (card.getAttribute('data-profile-applied') === '1') return;
      // Insert a compact profile header at the top of the card
      var header = document.createElement('div');
      header.className = 'flex items-center mb-2';
      header.innerHTML =
        (p.photoDataUrl ? '<img src="'+p.photoDataUrl+'" class="w-10 h-10 rounded-full object-cover border border-gray-300 mr-2" alt="Profile">' : '') +
        '<div class="text-sm"><div class="font-semibold">'+ (p.username || '') +'</div>' +
        '<div class="text-gray-600">'+ (p.from || '') +'</div>' +
        (p.greeting ? '<div class="italic text-gray-700">'+ p.greeting +'</div>' : '') + '</div>';
      card.insertBefore(header, card.firstChild);
      card.setAttribute('data-profile-applied','1');
    });
  }

  if (window.MutationObserver && commentsDisplay) {
    new MutationObserver(augmentCards).observe(commentsDisplay, { childList: true });
  }
  window.addEventListener('DOMContentLoaded', function(){
    applyProfileUI();
    augmentCards();
  });
})();
</script>

</body>
</html>
